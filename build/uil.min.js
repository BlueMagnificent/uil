<<<<<<< HEAD
(function(l,n){"object"===typeof exports&&"undefined"!==typeof module?n(exports):"function"===typeof define&&define.amd?define(["exports"],n):n(l.UIL=l.UIL||{})})(this,function(l){function n(a,b){this.x=a||0;this.y=b||0}function k(a){a=a||{};this.css=h.css;this.colors=h.colors;this.svgs=h.svgs;this.zone={x:0,y:0,w:0,h:0};this.local=(new n).neg();this.isCanvasOnly=!1;this.main=a.main||null;this.isUI=a.isUI||!1;this.parentGroup=null;this.p=void 0!==a.p?a.p:h.size.p;this.w=this.isUI?this.main.size.w:
h.size.w;void 0!==a.w&&(this.w=a.w);this.h=this.isUI?this.main.size.h:h.size.h;void 0!==a.h&&(this.h=a.h);this.h=11>this.h?11:this.h;this.autoWidth=a.auto||!0;this.isOpen=!1;this.radius=a.radius||0;this.isEdit=this.mono=this.isNumber=!1;if(this.simple=a.simple||!1)this.sa=0;this.setSize(this.w);void 0!==a.sa&&(this.sa=a.sa);void 0!==a.sb&&(this.sb=a.sb);this.simple&&(this.sb=this.w-this.sa);this.sc=void 0===a.sc?47:a.sc;this.objectLink=null;this.isSend=!1;this.val=null;this.bg=this.isUI?this.main.bg:
h.colors.background;this.bgOver=h.colors.backgroundOver;void 0!==a.bg&&(this.bgOver=this.bg=a.bg);void 0!==a.bgOver&&(this.bgOver=a.bgOver);this.titleColor=a.titleColor||h.colors.text;this.fontColor=a.fontColor||h.colors.text;this.colorPlus=h.ColorLuma(this.fontColor,.3);this.txt=a.name||"Proto";this.rename=a.rename||"";this.target=a.target||null;this.callback=void 0===a.callback?null:a.callback;this.endCallback=null;null===this.callback&&this.isUI&&null!==this.main.callback&&(this.callback=this.main.callback);
this.c=[];this.s=[];this.c[0]=h.dom("div",h.css.basic+"position:relative; height:20px; float:left; overflow:hidden;");this.s[0]=this.c[0].style;this.isUI&&(this.s[0].marginBottom="1px");this.simple||(this.c[1]=h.dom("div",h.css.txt),this.s[1]=this.c[1].style,this.c[1].textContent=""===this.rename?this.txt:this.rename,this.s[1].color=this.titleColor);if(a.pos){this.s[0].position="absolute";for(var b in a.pos)this.s[0][b]=a.pos[b];this.mono=!0}a.css&&(this.s[0].cssText=a.css)}function q(a){k.call(this,
a);this.value=a.value||!1;this.buttonColor=a.bColor||this.colors.button;this.inh=a.inh||this.h;a=Math.floor(.5*this.h)-.5*(this.inh-2);this.c[2]=this.dom("div",this.css.basic+"background:"+this.colors.boolbg+"; height:"+(this.inh-2)+"px; width:36px; top:"+a+"px; border-radius:10px; border:2px solid "+this.boolbg);this.c[3]=this.dom("div",this.css.basic+"height:"+(this.inh-6)+"px; width:16px; top:"+(a+2)+"px; border-radius:10px; background:"+this.buttonColor+";");this.init();this.update()}function r(a){k.call(this,
a);this.value=a.value||[this.txt];this.isDown=!1;this.buttonColor=a.bColor||this.colors.button;this.isLoadButton=a.loader||!1;if(this.isDragButton=a.drag||!1)this.isLoadButton=!0;this.lng=this.value.length;this.tmp=[];this.stat=[];for(a=0;a<this.lng;a++)this.c[a+2]=this.dom("div",this.css.txt+"text-align:center; top:1px; background:"+this.buttonColor+"; height:"+(this.h-2)+"px; border-radius:"+this.radius+"px; line-height:"+(this.h-4)+"px;"),this.c[a+2].style.color=this.fontColor,this.c[a+2].innerHTML=
this.value[a],this.stat[a]=1;void 0!==this.c[1]&&(this.c[1].textContent="");this.isLoadButton&&this.initLoader();this.isDragButton&&(this.lng++,this.initDrager());this.init()}function p(a){k.call(this,a);this.autoWidth=!1;this.buttonColor=this.colors.button;this.setTypeNumber(a);this.radius=.5*this.w;this.twoPi=2*Math.PI;this.pi90=.5*Math.PI;this.offset=new n;this.h=a.h||this.w+10;this.top=0;this.c[0].style.width=this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.c[1].style.textAlign=
"center",this.top=10,this.h+=10);this.cmode=this.percent=0;this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[3]=this.getCircular();this.setSvg(this.c[3],"d",this.makePath(),1);this.setSvg(this.c[3],"stroke",this.fontColor,1);this.setSvg(this.c[3],"viewBox","0 0 "+this.w+" "+this.w);this.setCss(this.c[3],{width:this.w,height:this.w,left:0,top:this.top});this.init();this.update()}function t(a){k.call(this,a);this.ctype=
a.ctype||"array";this.wfixe=256<this.sb?256:this.sb;this.side=a.side||"down";this.up="down"===this.side?0:1;this.baseH=this.h;this.offset=new n;this.decal=new n;this.pi90=.5*Math.PI;this.c[2]=this.dom("div",this.css.txt+"height:"+(this.h-4)+"px;border-radius:"+this.radius+"px; line-height:"+(this.h-8)+"px;");this.s[2]=this.c[2].style;this.up&&(this.s[2].top="auto",this.s[2].bottom="2px");this.c[3]=this.getColorRing();this.c[3].style.visibility="hidden";this.hsl=null;this.value="#ffffff";void 0!==
a.value&&(a.value instanceof Array?this.value=h.rgbToHex(a.value):isNaN(a.value)?this.value=a.value:this.value=h.hexToHtml(a.value));this.bcolor=null;this.isDown=!1;this.setColor(this.value);this.init();void 0!==a.open&&this.open()}function u(a){k.call(this,a);this.round=Math.round;this.autoHeight=!0;this.baseH=this.h;this.hplus=50;this.res=a.res||40;this.l=1;this.pa1=[];this.pa2=[];this.pa3=[];for(var b=this.res+1;b--;)this.pa1.push(50),this.pa2.push(50),this.pa3.push(50);b=Math.floor(.5*this.h)-
6;this.c[1].textContent="FPS";this.c[0].style.cursor="pointer";this.c[0].style.pointerEvents="auto";this.c[2]=this.dom("path",this.css.basic+("display:none; left:10px; top:"+this.h+"px; height:"+(this.hplus-8)+"px; background: rgba(0, 0, 0, 0.2);border:1px solid rgba(255, 255, 255, 0.2); "),{fill:"rgba(200,200,200,0.3)","stroke-width":1,stroke:this.fontColor,"vector-effect":"non-scaling-stroke"});this.c[2].setAttribute("viewBox","0 0 "+this.res+" 42");this.c[2].setAttribute("height","100%");this.c[2].setAttribute("width",
"100%");this.c[2].setAttribute("preserveAspectRatio","none");this.dom("path",null,{fill:"rgba(255,255,0,0.3)","stroke-width":1,stroke:"#FF0","vector-effect":"non-scaling-stroke"},this.c[2]);this.dom("path",null,{fill:"rgba(0,255,255,0.3)","stroke-width":1,stroke:"#0FF","vector-effect":"non-scaling-stroke"},this.c[2]);this.c[3]=this.dom("div",this.css.basic+"width:100%; bottom:0px; height:1px; background: rgba(255, 255, 255, 0.2);");this.c[4]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; left:4px; top:"+
b+"px;",{d:"M 3 8 L 8 5 3 2 3 8 Z",fill:this.fontColor,stroke:"none"});this.isShow=a.show||!1;this.c[1].style.marginLeft="10px";this.now=self.performance&&self.performance.now?self.performance.now.bind(performance):Date.now;this.prevTime=this.startTime=this.now();this.frames=0;this.isMem=!1;this.mm=this.mem=this.fps=this.ms=0;self.performance&&self.performance.memory&&(this.isMem=!0);this.init()}function D(a){k.call(this,a);this.value=void 0!==a.value?a.value:[0,0,0];this.lng=this.value.length;this.precision=
a.precision||2;this.multiplicator=a.multiplicator||1;this.isDown=this.isNumber=this.autoWidth=!1;this.h=a.h||138;this.rh=this.h-10;this.top=0;this.c[0].style.width=this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.c[1].style.textAlign="center",this.top=10,this.h+=10);this.gh=this.rh-28;this.gw=this.w-28;this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[2].textContent=this.value;a=this.dom("svg",
this.css.basic,{viewBox:"0 0 "+this.w+" "+this.rh,width:this.w,height:this.rh,preserveAspectRatio:"none"});this.setCss(a,{width:this.w,height:this.rh,left:0,top:this.top});this.dom("path","",{d:"",stroke:this.colors.text,"stroke-width":2,fill:"none","stroke-linecap":"butt"},a);this.dom("rect","",{x:10,y:10,width:this.gw+8,height:this.gh+8,stroke:"rgba(0,0,0,0.3)","stroke-width":1,fill:"none"},a);this.iw=(this.gw-4*(this.lng-1))/this.lng;var b=[];this.cMode=[];this.v=[];for(var c=0;c<this.lng;c++)b[c]=
[14+c*this.iw+4*c,this.iw],b[c][2]=b[c][0]+b[c][1],this.cMode[c]=0,this.v[c]=this.value[c]/this.multiplicator,this.dom("rect","",{x:b[c][0],y:14,width:b[c][1],height:1,fill:this.fontColor,"fill-opacity":.3},a);this.tmp=b;this.c[3]=a;this.init();this.update(!1)}function v(a){k.call(this,a);this.uis=[];this.autoHeight=!0;this.current=-1;this.target=null;this.decal=0;this.baseH=this.h;var b=Math.floor(.5*this.h)-6;this.isLine=void 0!==a.line?a.line:!1;this.c[2]=this.dom("div",this.css.basic+"width:100%; left:0; height:auto; overflow:hidden; top:"+
this.h+"px");this.c[3]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; left:0; top:"+b+"px;",{d:this.svgs.group,fill:this.fontColor,stroke:"none"});this.c[4]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; left:4px; top:"+b+"px;",{d:this.svgs.arrow,fill:this.fontColor,stroke:"none"});this.isLine&&(this.c[5]=this.dom("div",this.css.basic+"background:rgba(255, 255, 255, 0.2); width:100%; left:0; height:1px; bottom:0px"));b=this.s;b[0].height=this.h+
"px";b[1].height=this.h+"px";this.c[1].name="group";this.s[1].marginLeft="10px";this.s[1].lineHeight=this.h-4;this.s[1].color=this.fontColor;this.s[1].fontWeight="bold";this.init();void 0!==a.bg&&this.setBG(a.bg);void 0!==a.open&&this.open()}function w(a){k.call(this,a);this.autoWidth=!1;this.value=[0,0];this.joyType="analogique";this.precision=a.precision||2;this.multiplicator=a.multiplicator||1;this.pos=new n;this.old=new n;this.tmp=new n;this.interval=null;this.radius=.5*this.w;this.distance=.25*
this.radius;this.h=a.h||this.w+10;this.top=0;this.c[0].style.width=this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.c[1].style.textAlign="center",this.top=10,this.h+=10);this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[2].textContent=this.value;this.c[3]=this.getJoystick();this.setSvg(this.c[3],"viewBox","0 0 "+this.w+" "+this.w);this.setCss(this.c[3],{width:this.w,height:this.w,left:0,top:this.top});
this.ratio=128/this.w;this.init();this.update(!1)}function x(a){k.call(this,a);this.autoWidth=!1;this.buttonColor=this.colors.button;this.setTypeNumber(a);this.mPI=.8*Math.PI;this.toDeg=180/Math.PI;this.cirRange=2*this.mPI;this.offset=new n;this.radius=.5*this.w;this.h=a.h||this.w+10;this.top=0;this.c[0].style.width=this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.c[1].style.textAlign="center",this.top=10,this.h+=10);this.cmode=this.percent=0;this.c[2]=this.dom("div",this.css.txt+
"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[3]=this.getKnob();this.setSvg(this.c[3],"stroke",this.fontColor,1);this.setSvg(this.c[3],"stroke",this.fontColor,3);this.setSvg(this.c[3],"d",this.makeGrad(),3);this.setSvg(this.c[3],"viewBox","0 0 "+this.ww+" "+this.ww);this.setCss(this.c[3],{width:this.w,height:this.w,left:0,top:this.top});this.r=0;this.init();this.update()}function y(a){k.call(this,a);this.autoHeight=!1;var b=a.align||"center";this.tMode=
this.sMode=0;this.buttonColor=a.bColor||this.colors.button;var c=Math.floor(.5*this.h)-5;this.c[2]=this.dom("div",this.css.basic+"top:0; display:none;");this.c[3]=this.dom("div",this.css.txt+"text-align:"+b+"; line-height:"+(this.h-4)+"px; top:1px;  background:"+this.buttonColor+"; height:"+(this.h-2)+"px; border-radius:"+this.radius+"px;");this.c[4]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; top:"+c+"px;",{d:this.svgs.arrow,fill:this.fontColor,stroke:"none"});this.scroller=
this.dom("div",this.css.basic+"right:5px;  width:10px; background:#666; display:none;");this.c[3].style.color=this.fontColor;this.list=a.list||[];this.items=[];this.prevName="";this.baseH=this.h;this.itemHeight=a.itemHeight||this.h-3;this.full=a.full||!1;this.py=0;this.ww=this.sb;this.isDown=this.scroll=!1;this.current=null;this.side=a.side||"down";(this.up="down"===this.side?0:1)?(this.c[2].style.top="auto",this.c[3].style.top="auto",this.c[4].style.top="auto",this.c[2].style.bottom=this.h-2+"px",
this.c[3].style.bottom="1px",this.c[4].style.bottom=c+"px"):this.c[2].style.top=this.baseH+"px";this.listIn=this.dom("div",this.css.basic+"left:0; top:0; width:100%; background:rgba(0,0,0,0.2);");this.listIn.name="list";this.topList=0;this.c[2].appendChild(this.listIn);this.c[2].appendChild(this.scroller);this.setList(this.list,a.value);this.init();void 0!==a.open&&this.open()}function z(a){k.call(this,a);this.setTypeNumber(a);this.isDown=!1;this.value=[0];this.toRad=1;this.isNumber=!0;this.isVector=
this.isAngle=!1;void 0!==a.value&&(isNaN(a.value)?a.value instanceof Array?(this.value=a.value,this.isNumber=!1):a.value instanceof Object&&(this.value=[],a.value.x&&(this.value[0]=a.value.x),a.value.y&&(this.value[1]=a.value.y),a.value.z&&(this.value[2]=a.value.z),a.value.w&&(this.value[3]=a.value.w),this.isVector=!0):this.value=[a.value]);this.lng=this.value.length;this.tmp=[];a.isAngle&&(this.isAngle=!0,this.toRad=Math.PI/180);this.current=-1;this.prev={x:0,y:0,d:0,v:0};this.cMode=[];for(var b=
this.lng;b--;)this.isAngle&&(this.value[b]=(180*this.value[b]/Math.PI).toFixed(this.precision)),this.c[2+b]=this.dom("div",this.css.txtselect+"letter-spacing:-1px; height:"+(this.h-4)+"px; line-height:"+(this.h-8)+"px;"),a.center&&(this.c[2+b].style.textAlign="center"),this.c[2+b].textContent=this.value[b],this.c[2+b].style.color=this.fontColor,this.c[2+b].isNum=!0,this.cMode[b]=0;this.init()}function A(a){k.call(this,a);this.setTypeNumber(a);this.stype=a.stype||0;this.buttonColor=a.bColor||this.colors.button;
this.isOver=this.isDown=!1;this.allway=a.allway||!1;this.firstImput=!1;this.c[2]=this.dom("div",this.css.txtselect+"letter-spacing:-1px; text-align:right; width:47px; border:1px dashed "+this.colors.hide+"; color:"+this.fontColor);this.c[3]=this.dom("div",this.css.basic+" top:0; height:"+this.h+"px;");this.c[4]=this.dom("div",this.css.basic+"background:rgba(0,0,0,0.3); top:2px; height:"+(this.h-4)+"px;");this.c[5]=this.dom("div",this.css.basic+"left:4px; top:5px; height:"+(this.h-10)+"px; background:"+
this.fontColor+";");this.c[2].isNum=!0;if(0!==this.stype){if(1===this.stype||3===this.stype)var b=4,c=8,d=this.h-4,g=20;2===this.stype&&(b=2,c=4,g=2,d=.5*(this.h-4));3===this.stype&&(this.c[5].style.visible="none");this.c[4].style.borderRadius=b+"px";this.c[4].style.height=c+"px";this.c[4].style.top=.5*this.h-b+"px";this.c[5].style.borderRadius=.5*b+"px";this.c[5].style.height=b+"px";this.c[5].style.top=.5*this.h-.5*b+"px";this.c[6]=this.dom("div",this.css.basic+"border-radius:"+g+"px; margin-left:"+
.5*-d+"px; border:1px solid "+this.colors.border+"; background:"+this.buttonColor+"; left:4px; top:2px; height:"+(this.h-4)+"px; width:"+d+"px;")}this.init()}function B(a){k.call(this,a);this.cmode=0;this.value=a.value||"";this.allway=a.allway||!1;this.firstImput=!1;this.c[2]=this.dom("div",this.css.txtselect);this.c[2].textContent=this.value;this.init()}function C(a){k.call(this,a);a=a.prefix||"";this.c[2]=this.dom("div",this.css.txt+"text-align:right; width:60px; line-height:"+(this.h-8)+"px; color:"+
this.fontColor);31===this.h&&(this.s[0].height=this.h+"px",this.s[1].top="8px",this.c[2].style.top="8px");this.c[1].textContent=this.txt.substring(0,1).toUpperCase()+this.txt.substring(1).replace("-"," ");this.c[2].textContent=a;this.init()}function E(){var a=arguments,b,c,d=!1,g=null;"string"===typeof a[0]?(b=a[0],c=a[1]||{}):"object"===typeof a[0]&&(d=!0,void 0===a[2]&&[].push.call(a,{}),b=a[2].type?a[2].type:"slide",c=a[2],c.name=a[1],c.value=a[0][a[1]]);switch(b.toLowerCase()){case "bool":g=new q(c);
break;case "button":g=new r(c);break;case "circular":g=new p(c);break;case "color":g=new t(c);break;case "fps":g=new u(c);break;case "graph":g=new D(c);break;case "group":g=new v(c);break;case "joystick":g=new w(c);break;case "knob":g=new x(c);break;case "list":g=new y(c);break;case "numeric":case "number":g=new z(c);break;case "slide":g=new A(c);break;case "textInput":case "string":g=new B(c);break;case "title":g=new C(c)}if(null!==g)return d&&g.setReferency(a[0],a[1]),g}function F(a){this.canvas=
null;a=a||{};void 0!==a.transparent&&(h.colors.background="none",h.colors.backgroundOver="none");this.isReset=!0;this.tmpAdd=null;this.tmpH=0;this.isCanvas=a.isCanvas||!1;this.isCanvasOnly=!1;this.css=void 0!==a.css?a.css:"";this.callback=void 0===a.callback?null:a.callback;this.forceHeight=a.maxHeight||0;this.cn="";this.size=h.size;void 0!==a.p&&(this.size.p=a.p);void 0!==a.w&&(this.size.w=a.w);void 0!==a.h&&(this.size.h=a.h);void 0!==a.s&&(this.size.s=a.s);this.size.h=11>this.size.h?11:this.size.h;
this.local=(new n).neg();this.zone={x:0,y:0,w:this.size.w,h:0};this.mouse=(new n).neg();this.h=0;this.prevY=-1;this.sw=0;this.colors=h.colors;this.bg=a.bg||h.colors.background;this.bh=(this.isWithClose=void 0!==a.close?a.close:!0)?this.size.h:0;this.autoResize=void 0===a.autoResize?!0:a.autoResize;this.isCenter=a.center||!1;this.isOpen=!0;this.isScroll=this.isDown=!1;this.uis=[];this.current=-1;this.target=null;this.decal=0;this.ratio=1;this.oy=0;this.content=h.dom("div",h.css.basic+" width:0px; height:auto; top:0px; "+
this.css);this.innerContent=h.dom("div",h.css.basic+"width:100%; top:0; left:0; height:auto; overflow:hidden;");this.content.appendChild(this.innerContent);this.inner=h.dom("div",h.css.basic+"width:100%; left:0; ");this.innerContent.appendChild(this.inner);this.scrollBG=h.dom("div",h.css.basic+"right:0; top:0; width:"+(this.size.s-1)+"px; height:10px; display:none; background:"+this.bg+";");this.content.appendChild(this.scrollBG);this.scroll=h.dom("div",h.css.basic+"background:"+this.colors.scroll+
"; right:2px; top:0; width:"+(this.size.s-4)+"px; height:10px;");this.scrollBG.appendChild(this.scroll);this.bottom=h.dom("div",h.css.txt+"width:100%; top:auto; bottom:0; left:0; border-bottom-right-radius:10px;  border-bottom-left-radius:10px; text-align:center; height:"+this.bh+"px; line-height:"+(this.bh-5)+"px; border-top:1px solid "+h.colors.stroke+";");this.content.appendChild(this.bottom);this.bottom.textContent="close";this.bottom.style.background=this.bg;this.parent=void 0!==a.parent?a.parent:
null;null!==this.parent||this.isCanvas||(this.parent=document.body,this.isCenter||(this.content.style.right="10px"));null!==this.parent&&this.parent.appendChild(this.content);this.isCanvas&&null===this.parent&&(this.isCanvasOnly=!0);this.isCanvasOnly||(this.content.style.pointerEvents="auto");this.setWidth();this.isCanvas&&this.makeCanvas();m.add(this)}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});void 0===Function.prototype.name&&
Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});void 0===Object.assign&&function(){Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(b[g]=d[g])}return b}}();var f={frag:document.createDocumentFragment(),colorRing:null,
joystick:null,circular:null,knob:null,svgns:"http://www.w3.org/2000/svg",htmls:"http://www.w3.org/1999/xhtml",DOM_SIZE:"height width top left bottom right margin-left margin-right margin-top margin-bottom".split(" "),SVG_TYPE_D:"pattern defs transform stop animate radialGradient linearGradient animateMotion".split(" "),SVG_TYPE_G:"svg rect circle path polygon text g line foreignObject".split(" "),TwoPI:6.283185307179586,size:{w:240,h:20,p:30,s:20},colors:{text:"#C0C0C0",background:"rgba(44,44,44,0.3)",
backgroundOver:"rgba(11,11,11,0.5)",input:"#005AAA",border:"#454545",borderOver:"#5050AA",borderSelect:"#308AFF",button:"#404040",boolbg:"#181818",select:"#308AFF",moving:"#03afff",down:"#024699",stroke:"rgba(11,11,11,0.5)",scroll:"#333333",hide:"rgba(0,0,0,0)"},css:{basic:"position:absolute; pointer-events:none; box-sizing:border-box; margin:0; padding:0; overflow:hidden; "},svgs:{group:"M 7 7 L 7 8 8 8 8 7 7 7 M 5 7 L 5 8 6 8 6 7 5 7 M 3 7 L 3 8 4 8 4 7 3 7 M 7 5 L 7 6 8 6 8 5 7 5 M 6 6 L 6 5 5 5 5 6 6 6 M 7 3 L 7 4 8 4 8 3 7 3 M 6 4 L 6 3 5 3 5 4 6 4 M 3 5 L 3 6 4 6 4 5 3 5 M 3 3 L 3 4 4 4 4 3 3 3 Z",
arrow:"M 3 8 L 8 5 3 2 3 8 Z",arrowDown:"M 5 8 L 8 3 2 3 5 8 Z",arrowUp:"M 5 2 L 2 7 8 7 5 2 Z"},setText:function(a,b,c){b=b||"#CCC";f.colors.text=b;f.css.txt=f.css.basic+"font-family:"+(c||"Monospace")+"; font-size:"+(a||11)+"px; color:"+b+"; padding:2px 10px; left:0; top:2px; height:16px; width:100px; overflow:hidden; white-space: nowrap;";f.css.txtselect=f.css.txt+"padding:2px 5px; border:1px dashed "+f.colors.border+";";f.css.item=f.css.txt+"position:relative; background:rgba(0,0,0,0.2); margin-bottom:1px;"},
clone:function(a){return a.cloneNode(!0)},setSvg:function(a,b,c,d){-1===d?a.setAttributeNS(null,b,c):a.childNodes[d||0].setAttributeNS(null,b,c)},setCss:function(a,b){for(var c in b)-1!==f.DOM_SIZE.indexOf(c)?a.style[c]=b[c]+"px":a.style[c]=b[c]},set:function(a,b){for(var c in b)"txt"===c&&(a.textContent=b[c]),a.setAttributeNS(null,c,b[c])},get:function(a,b){if(void 0===b)return a;if(!isNaN(b))return a.childNodes[b];if(b instanceof Array){if(2===b.length)return a.childNodes[b[0]].childNodes[b[1]];
if(3===b.length)return a.childNodes[b[0]].childNodes[b[1]].childNodes[b[2]]}},dom:function(a,b,c,d,g){a=a||"div";-1!==f.SVG_TYPE_D.indexOf(a)||-1!==f.SVG_TYPE_G.indexOf(a)?"svg"===a?(d=document.createElementNS(f.svgns,"svg"),f.set(d,c)):(void 0===d&&(d=document.createElementNS(f.svgns,"svg")),f.addAttributes(d,a,c,g)):d=void 0===d?document.createElementNS(f.htmls,a):d.appendChild(document.createElementNS(f.htmls,a));b&&(d.style.cssText=b);return void 0===g?d:d.childNodes[g||0]},addAttributes:function(a,
b,c,d){var g=document.createElementNS(f.svgns,b);f.set(g,c);f.get(a,d).appendChild(g);-1!==f.SVG_TYPE_G.indexOf(b)&&(g.style.pointerEvents="none");return g},clear:function(a){for(f.purge(a);a.firstChild;)a.firstChild.firstChild&&f.clear(a.firstChild),a.removeChild(a.firstChild)},purge:function(a){var b=a.attributes,c,d;if(b)for(c=b.length;c--;)d=b[c].name,"function"===typeof a[d]&&(a[d]=null);if(b=a.childNodes)for(c=b.length;c--;)f.purge(a.childNodes[c])},clamp:function(a,b,c){return a<b?b:a>c?c:
a},ColorLuma:function(a,b){a=String(a).replace(/[^0-9a-f]/gi,"");6>a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);b=b||0;var c="#",d,g;for(g=0;3>g;g++)d=parseInt(a.substr(2*g,2),16),d=Math.round(Math.min(Math.max(0,d+d*b),255)).toString(16),c+=("00"+d).substr(d.length);return c},findDeepInver:function(a){return.6>=.3*a[0]+.59*a[1]+.11*a[2]},hexToHtml:function(a){return"#"+("000000"+(void 0===a?0:a).toString(16)).substr(-6)},htmlToHex:function(a){return a.toUpperCase().replace("#","0x")},u255:function(a,
b){return parseInt(a.substring(b,b+2),16)/255},u16:function(a,b){return parseInt(a.substring(b,b+1),16)/15},unpack:function(a){if(7==a.length)return[f.u255(a,1),f.u255(a,3),f.u255(a,5)];if(4==a.length)return[f.u16(a,1),f.u16(a,2),f.u16(a,3)]},htmlRgb:function(a){return"rgb("+Math.round(255*a[0])+","+Math.round(255*a[1])+","+Math.round(255*a[2])+")"},rgbToHex:function(a){return"#"+("000000"+(255*a[0]<<16^255*a[1]<<8^255*a[2]<<0).toString(16)).slice(-6)},hueToRgb:function(a,b,c){0>c&&(c+=1);1<c&&--c;
return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a},rgbToHsl:function(a){var b=a[0],c=a[1];a=a[2];var d=Math.min(b,c,a),g=Math.max(b,c,a),e=g-d,f=0,h=0,d=(d+g)/2;0<d&&1>d&&(h=e/(.5>d?2*d:2-2*d));0<e&&(g==b&&g!=c&&(f+=(c-a)/e),g==c&&g!=a&&(f+=2+(a-b)/e),g==a&&g!=b&&(f+=4+(b-c)/e),f/=6);return[f,h,d]},hslToRgb:function(a){var b,c=a[0];b=a[1];a=a[2];if(0===b)return[a,a,a];b=.5>=a?a*(b+1):a+b-a*b;a=2*a-b;return[f.hueToRgb(a,b,c+.33333),f.hueToRgb(a,b,c),f.hueToRgb(a,b,c-.33333)]},makeGradiant:function(a,
b,c,d){f.dom(a,null,b,c,0);a=c.childNodes[0].childNodes.length-1;for(var g=0;g<d.length;g++)b=d[g],f.dom("stop",null,{offset:b[0]+"%",style:"stop-color:"+b[1]+"; stop-opacity:"+b[2]+";"},c,[0,a])},makeKnob:function(){var a=f.dom("svg",f.css.basic,{viewBox:"0 0 128 128",width:128,height:128,preserveAspectRatio:"none"});f.dom("circle","",{cx:64,cy:64,r:34,fill:f.colors.button,stroke:"rgba(0,0,0,0.3)","stroke-width":8},a);f.dom("path","",{d:"",stroke:f.colors.text,"stroke-width":4,fill:"none","stroke-linecap":"round"},
a);f.dom("circle","",{cx:64,cy:64,r:41,stroke:"rgba(0,0,0,0.1)","stroke-width":7,fill:"none"},a);f.dom("path","",{d:"",stroke:"rgba(255,255,255,0.3)","stroke-width":2,fill:"none","stroke-linecap":"round","stroke-opacity":.5},a);f.knob=a},makeCircular:function(){var a=f.dom("svg",f.css.basic,{viewBox:"0 0 128 128",width:128,height:128,preserveAspectRatio:"none"});f.dom("circle","",{cx:64,cy:64,r:40,stroke:"rgba(0,0,0,0.1)","stroke-width":10,fill:"none"},a);f.dom("path","",{d:"",stroke:f.colors.text,
"stroke-width":7,fill:"none","stroke-linecap":"butt"},a);f.circular=a},makeJoystick:function(){var a=Math.floor(49),b=Math.floor(.6*a),c=f.dom("svg",f.css.basic,{viewBox:"0 0 128 128",width:128,height:128,preserveAspectRatio:"none"});f.dom("defs",null,{},c);f.dom("g",null,{},c);var d=[[40,"rgb(0,0,0)",.3],[80,"rgb(0,0,0)",0],[90,"rgb(50,50,50)",.4],[100,"rgb(50,50,50)",0]];f.makeGradiant("radialGradient",{id:"grad",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},c,d);d=[[60,"rgb(0,0,0)",.5],[100,"rgb(0,0,0)",
0]];f.makeGradiant("radialGradient",{id:"gradS",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},c,d);var d=["rgb(40,40,40)","rgb(48,48,48)","rgb(30,30,30)"],g=["rgb(1,90,197)","rgb(3,95,207)","rgb(0,65,167)"],d=[[30,d[0],1],[60,d[1],1],[80,d[1],1],[100,d[2],1]];f.makeGradiant("radialGradient",{id:"gradIn",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},c,d);d=[[30,g[0],1],[60,g[1],1],[80,g[1],1],[100,g[2],1]];f.makeGradiant("radialGradient",{id:"gradIn2",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},c,d);
f.dom("circle","",{cx:64,cy:64,r:a,fill:"url(#grad)"},c);f.dom("circle","",{cx:69,cy:74,r:b+10,fill:"url(#gradS)"},c);f.dom("circle","",{cx:64,cy:64,r:b,fill:"url(#gradIn)"},c);f.joystick=c},makeColorRing:function(){var a=f.dom("svg",f.css.basic,{viewBox:"0 0 256 256",width:256,height:256,preserveAspectRatio:"none"});f.dom("defs",null,{},a);f.dom("g",null,{},a);var b=8/108/24*Math.PI,c=0,d,g,e,h,k,l=[];for(k=0;24>=k;++k){e=k/24;h=e*f.TwoPI;d=.5*(c+h);g=1/Math.cos(.5*(h-c));c=[Math.sin(c),-Math.cos(c),
Math.sin(d)*g,-Math.cos(d)*g,Math.sin(h),-Math.cos(h)];l[1]=f.rgbToHex(f.hslToRgb([e,1,.5]));if(0<k){for(e=6;e--;)c[e]=(108*c[e]+128).toFixed(2);e=" M"+c[0]+" "+c[1]+" Q"+c[2]+" "+c[3]+" "+c[4]+" "+c[5];d=[[0,l[0],1],[100,l[1],1]];f.makeGradiant("linearGradient",{id:"G"+k,x1:c[0],y1:c[1],x2:c[4],y2:c[5],gradientUnits:"userSpaceOnUse"},a,d);f.dom("path","",{d:e,"stroke-width":40,stroke:"url(#G"+k+")","stroke-linecap":"butt"},a,1)}c=h-b;l[0]=l[1]}d=[[0,"#FFFFFF",1],[50,"#FFFFFF",0],[50,"#000000",0],
[100,"#000000",1]];f.makeGradiant("linearGradient",{id:"GL1",x1:68,y1:68,x2:68,y2:188,gradientUnits:"userSpaceOnUse"},a,d);d=[[0,"#7f7f7f",0],[50,"#7f7f7f",.5],[100,"#7f7f7f",1]];f.makeGradiant("linearGradient",{id:"GL2",x1:68,y1:68,x2:188,y2:68,gradientUnits:"userSpaceOnUse"},a,d);f.dom("circle","",{cx:128,cy:128,r:90,fill:"red"},a);f.dom("circle","",{cx:128,cy:128,r:90,fill:"url(#GL2)"},a);f.dom("circle","",{cx:128,cy:128,r:90,fill:"url(#GL1)"},a);f.dom("circle","",{cx:0,cy:0,r:6,"stroke-width":3,
stroke:"#FFF",fill:"none"},a);f.dom("circle","",{cx:0,cy:0,r:6,"stroke-width":3,stroke:"#000",fill:"none"},a);f.colorRing=a},icon:function(a,b,c){c=c||40;b=b||"#DEDEDE";c=["<svg xmlns='"+f.svgns+"' version='1.1' xmlns:xlink='"+f.htmls+"' style='pointer-events:none;' preserveAspectRatio='xMinYMax meet' x='0px' y='0px' width='"+c+"px' height='"+c+"px' viewBox='0 0 256 256'><g>"];switch(a){case "logo":c[1]="<path id='logoin' stroke='"+b+"' stroke-width='16' stroke-linejoin='round' stroke-linecap='square' fill='none' d='M 192 44 L 192 148 Q 192 174.5 173.3 193.25 154.55 212 128 212 101.5 212 82.75 193.25 64 174.5 64 148 L 64 44 M 160 44 L 160 148 Q 160 161.25 150.65 170.65 141.25 180 128 180 114.75 180 105.35 170.65 96 161.25 96 148 L 96 44'/>";
break;case "save":c[1]="<path stroke='"+b+"' stroke-width='4' stroke-linejoin='round' stroke-linecap='round' fill='none' d='M 26.125 17 L 20 22.95 14.05 17 M 20 9.95 L 20 22.95'/><path stroke='"+b+"' stroke-width='2.5' stroke-linejoin='round' stroke-linecap='round' fill='none' d='M 32.6 23 L 32.6 25.5 Q 32.6 28.5 29.6 28.5 L 10.6 28.5 Q 7.6 28.5 7.6 25.5 L 7.6 23'/>"}c[2]="</g></svg>";return c.join("\n")}};f.setText();var h=f,e={ui:[],ID:null,lock:!1,wlock:!1,current:-1,needReZone:!0,isEventsInit:!1,
xmlserializer:new XMLSerializer,tmpTime:null,tmpImage:null,oldCursor:"auto",input:null,firstImput:!0,callbackImput:null,isLoop:!1,listens:[],e:{type:null,clientX:0,clientY:0,keyCode:NaN,key:null,delta:0},add:function(a){e.ui.push(a);e.getZone(a);e.isEventsInit||e.initEvents()},initEvents:function(){if(!e.isEventsInit){var a=document.body;a.addEventListener("contextmenu",function(a){a.preventDefault()},!1);a.addEventListener("mousedown",e,!1);a.addEventListener("wheel",e,!1);a.addEventListener("touchstart",
e,!1);a.addEventListener("touchend",e,!1);a.addEventListener("touchmove",e,!1);document.addEventListener("mousemove",e,!1);document.addEventListener("mouseup",e,!1);window.addEventListener("keydown",e,!1);window.addEventListener("resize",e.resize,!1);e.isEventsInit=!0}},resize:function(){e.needReZone=!0;for(var a=e.ui.length,b;a--;)b=e.ui[a],b.isGui&&!b.isCanvasOnly&&b.autoResize&&b.setHeight()},handleEvent:function(a){a.preventDefault();e.findZone();var b=e.e;"keydown"===a.type&&e.editText(a);b.delta=
"wheel"===a.type?0<a.deltaY?1:-1:0;b.clientX=a.clientX||0;b.clientY=a.clientY||0;b.type=a.type;"mousedown"===b.type&&(e.lock=!0);"mouseup"===b.type&&(e.lock=!1);"mousemove"!==b.type||e.lock||e.findID(b);null!==e.ID&&(e.ID.isCanvasOnly&&(b.clientX=e.ID.mouse.x,b.clientY=e.ID.mouse.y),e.ID.handleEvent(b))},findID:function(a){for(var b=e.ui.length,c=-1,d,g,f;b--;)if(d=e.ui[b],d.isCanvasOnly?(g=d.mouse.x,f=d.mouse.y):(g=a.clientX,f=a.clientY),e.onZone(d,g,f)){c=b;c!==e.current&&(e.clearOldID(),e.current=
c,e.ID=d);break}-1===c&&e.clearOldID()},clearOldID:function(){e.ID&&(e.current=-1,e.ID.reset(),e.ID=null,e.cursor())},calcUis:function(a,b,c){var d=a.length,g,e,f=0,h=0;for(e=0;e<d;e++)g=a[e],g.zone.w=g.w,g.zone.h=g.h,g.autoWidth?(g.zone.x=b.x,g.zone.y=c,c+=g.h+1):(0===f&&(c+=g.h+1),g.zone.x=b.x+f,g.zone.y=0===f?c-g.h:h,h=g.zone.y,f+=g.w,f+g.w>b.w&&(f=0)),g.isGroup&&g.calcUis()},findTarget:function(a,b){for(var c=a.length;c--;)if(e.onZone(a[c],b.clientX,b.clientY))return c;return-1},findZone:function(a){if(e.needReZone||
a){a=e.ui.length;for(var b;a--;)b=e.ui[a],e.getZone(b),b.isGui&&b.calcUis();e.needReZone=!1}},onZone:function(a,b,c){if(void 0===b||void 0===c)return!1;var d=a.zone;b-=d.x;c-=d.y;(d=0<=b&&0<=c&&b<=d.w&&c<=d.h)?a.local.set(b,c):a.local.neg();return d},getZone:function(a){if(!a.isCanvasOnly){var b=a.getDom().getBoundingClientRect();a.zone={x:b.left,y:b.top,w:b.width,h:b.height}}},cursor:function(a){a=a?a:"auto";a!==e.oldCursor&&(document.body.style.cursor=a,e.oldCursor=a)},toCanvas:function(a,b,c,d){d&&
null!==e.tmpTime&&(clearTimeout(e.tmpTime),e.tmpTime=null);if(null===e.tmpTime){e.lock&&(e.tmpTime=setTimeout(function(){e.tmpTime=null},10));var g=!1;if(b!==a.canvas.width||c!==a.canvas.height)g=!0;null===e.tmpImage&&(e.tmpImage=new Image);d=e.tmpImage;var f=e.xmlserializer.serializeToString(a.content);d.onload=function(){var d=a.canvas.getContext("2d");g?(a.canvas.width=b,a.canvas.height=c):d.clearRect(0,0,b,c);d.drawImage(this,0,0);a.onDraw()};d.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="'+
b+'" height="'+c+'"><foreignObject style="pointer-events: none; left:0;" width="100%" height="100%">'+f+"</foreignObject></svg>");d.crossOrigin=""}},clearInput:function(){null!==e.input&&(e.firstImput||e.callbackImput(),e.input.style.background="none",e.callbackImput=null,e.input=null,e.firstImput=!0)},setInput:function(a,b,c){e.clearInput();e.callbackImput=b;e.input=a;e.input.style.background=c},select:function(){document.execCommand("selectall",null,!1)},editText:function(a){if(null!==e.input)if(13===
a.keyCode)e.callbackImput(),e.clearInput();else if(e.input.isNum){if(95<a.keyCode&&106>a.keyCode||110===a.keyCode||109===a.keyCode)e.firstImput?(e.input.textContent=a.key,e.firstImput=!1):e.input.textContent+=a.key}else e.firstImput?(e.input.textContent=a.key,e.firstImput=!1):e.input.textContent+=a.key},loop:function(){e.isLoop&&requestAnimationFrame(e.loop);e.update()},update:function(){for(var a=e.listens.length;a--;)e.listens[a].listening()},removeListen:function(a){a=e.listens.indexOf(a);e.listens.splice(a,
1);0===e.listens.length&&(e.isLoop=!1)},addListen:function(a){-1===e.listens.indexOf(a)&&(e.listens.push(a),e.isLoop||(e.isLoop=!0,e.loop()))}},m=e;Object.assign(n.prototype,{set:function(a,b){this.x=a;this.y=b;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},length:function(){return Math.sqrt(this.x*this.x+
this.y*this.y)},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},addScalar:function(a){this.x+=a;this.y+=a;return this},neg:function(){this.y=this.x=-1;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},equals:function(a){return a.x===this.x&&a.y===this.y},nearEquals:function(a,b){return a.x.toFixed(b)===this.x.toFixed(b)&&a.y.toFixed(b)===this.y.toFixed(b)}});Object.assign(k.prototype,{constructor:k,init:function(){var a=this.s,b=this.c;a[0].height=this.h+
"px";this.zone.h=this.h;this.isUI&&(a[0].background=this.bg);void 0!==b[1]&&this.autoWidth&&(a[1]=b[1].style,a[1].height=this.h-4+"px",a[1].lineHeight=this.h-8+"px");for(var c=h.frag,d=1,g=b.length;d!==g;d++)void 0!==b[d]&&(c.appendChild(b[d]),a[d]=b[d].style);null!==this.target?this.target.appendChild(b[0]):this.isUI?this.main.inner.appendChild(b[0]):document.body.appendChild(b[0]);b[0].appendChild(c);this.rSize();this.isUI||(this.c[0].style.pointerEvents="auto",m.add(this))},dom:function(a,b,c,
d,g){return h.dom(a,b,c,d,g)},setSvg:function(a,b,c,d){h.setSvg(a,b,c,d)},setCss:function(a,b){h.setCss(a,b)},clamp:function(a,b,c){return h.clamp(a,b,c)},getColorRing:function(){h.colorRing||h.makeColorRing();return h.clone(h.colorRing)},getJoystick:function(){h.joystick||h.makeJoystick();return h.clone(h.joystick)},getCircular:function(){h.circular||h.makeCircular();return h.clone(h.circular)},getKnob:function(){h.knob||h.makeKnob();return h.clone(h.knob)},cursor:function(a){m.cursor(a)},setInput:function(a,
b){m.setInput(a,b,h.colors.input)},update:function(){},reset:function(){},getDom:function(){return this.c[0]},uiout:function(){this.s[0].background=this.bg},uiover:function(){this.s[0].background=this.bgOver},rename:function(a){void 0!==this.c[1]&&(this.c[1].textContent=a)},listen:function(){m.addListen(this);m.listens.push(this);return this},listening:function(){null!==this.objectLink&&(this.isSend||this.isEdit||this.setValue(this.objectLink[this.val]))},setValue:function(a){this.value=this.isNumber?
this.numValue(a):a;this.update()},onChange:function(a){this.callback=a;return this},onFinishChange:function(a){this.callback=null;this.endCallback=a;return this},send:function(a){this.isSend=!0;null!==this.objectLink&&(this.objectLink[this.val]=a||this.value);this.callback&&this.callback(a||this.value);this.isSend=!1},sendEnd:function(a){this.endCallback&&this.endCallback(a||this.value);null!==this.objectLink&&(this.objectLink[this.val]=a||this.value)},clear:function(){h.clear(this.c[0]);null!==this.target?
this.target.removeChild(this.c[0]):this.isUI?this.main.clearOne(this):document.body.removeChild(this.c[0]);this.target=this.callback=this.s=this.c=null},setSize:function(a){this.autoWidth&&(this.w=a,this.simple?this.sb=this.w-this.sa:(a=this.p/100*this.w,this.sa=Math.floor(a+10),this.sb=Math.floor(this.w-a-20)))},rSize:function(){this.autoWidth&&(this.s[0].width=this.w+"px",this.simple||(this.s[1].width=this.sa+"px"))},setTypeNumber:function(a){this.isNumber=!0;this.value=0;void 0!==a.value&&(this.value=
"string"===typeof a.value?1*a.value:a.value);this.min=void 0===a.min?-Infinity:a.min;this.max=void 0===a.max?Infinity:a.max;this.precision=void 0===a.precision?2:a.precision;var b;switch(this.precision){case 0:b=1;break;case 1:b=.1;break;case 2:b=.01;break;case 3:b=.001;break;case 4:b=1E-4}this.step=void 0===a.step?b:a.step;this.range=this.max-this.min;this.value=this.numValue(this.value)},numValue:function(a){return 1*Math.min(this.max,Math.max(this.min,a)).toFixed(this.precision)},handleEvent:function(a){return this[a.type](a)},
wheel:function(a){return!1},mousedown:function(a){return!1},mousemove:function(a){return!1},mouseup:function(a){return!1},keydown:function(a){return!1},setReferency:function(a,b){this.objectLink=a;this.val=b},display:function(a){this.s[0].display=a?"block":"none"},open:function(){this.isOpen||(this.isOpen=!0)},close:function(){this.isOpen&&(this.isOpen=!1)},needZone:function(){m.needReZone=!0}});q.prototype=Object.assign(Object.create(k.prototype),{constructor:q,mousemove:function(a){this.cursor("pointer")},
mousedown:function(a){this.value=this.value?!1:!0;this.update();this.send();return!0},update:function(){var a=this.s;this.value?(a[2].background=this.fontColor,a[2].borderColor=this.fontColor,a[3].marginLeft="17px"):(a[2].background=this.colors.boolbg,a[2].borderColor=this.colors.boolbg,a[3].marginLeft="2px")},rSize:function(){k.prototype.rSize.call(this);var a=this.s;a[2].left=this.sa+"px";a[3].left=this.sa+1+"px"}});r.prototype=Object.assign(Object.create(k.prototype),{constructor:r,testZone:function(a){a=
this.local;if(-1===a.x&&-1===a.y)return"";for(var b=this.lng,c=this.tmp;b--;)if(a.x>c[b][0]&&a.x<c[b][2])return b+2;return""},mouseup:function(a){return this.isDown?(this.isDown=!1,this.mousemove(a)):!1},mousedown:function(a){var b=this.testZone(a);if(!b)return!1;this.isDown=!0;this.send(this.value[b-2]);return this.mousemove(a)},mousemove:function(a){a=this.testZone(a);""!==a?(this.cursor("pointer"),a=this.modes(this.isDown?3:2,a)):a=this.reset();return a},modes:function(a,b){for(var c,d=!1,g=0;g<
this.lng;g++)(c=g===b-2?this.mode(a,g+2):this.mode(1,g+2))&&(d=!0);return d},mode:function(a,b){var c=!1,d=b-2;if(this.stat[d]!==a){switch(a){case 1:this.stat[d]=1;this.s[d+2].color=this.fontColor;this.s[d+2].background=this.buttonColor;break;case 2:this.stat[d]=2;this.s[d+2].color="#FFF";this.s[d+2].background=this.colors.select;break;case 3:this.stat[d]=3,this.s[d+2].color="#FFF",this.s[d+2].background=this.colors.down}c=!0}return c},reset:function(){this.cursor();return this.modes(1,2)},dragover:function(){this.s[4].borderColor=
this.colors.select;this.s[4].color=this.colors.select},dragend:function(){this.s[4].borderColor=this.fontColor;this.s[4].color=this.fontColor},drop:function(a){this.dragend();this.fileSelect(a.dataTransfer.files[0])},initDrager:function(){this.c[4]=this.dom("div",this.css.txt+" text-align:center; line-height:"+(this.h-8)+"px; border:1px dashed "+this.fontColor+"; top:2px;  height:"+(this.h-4)+"px; border-radius:"+this.r+"px;");this.c[4].textContent="DRAG";this.c[2].events=[];this.c[4].events=["dragover",
"dragend","dragleave","drop"]},initLoader:function(){this.c[3]=this.dom("input",this.css.basic+"border:1px solid "+this.colors.border+"; top:1px; opacity:0;  height:"+(this.h-2)+"px;");this.c[3].name="loader";this.c[3].type="file";this.c[2].events=[];this.c[3].events=["change","mouseover","mousedown","mouseup","mouseout"]},fileSelect:function(a){var b=["png","jpg","mp4","webm","ogg"],c=["sea","bvh","BVH","z"];if(void 0!==a){var d=new FileReader,g=a.name,e=g.substring(g.lastIndexOf(".")+1,g.length);
-1!==b.indexOf(e)?d.readAsDataURL(a):-1!==c.indexOf(e)?d.readAsArrayBuffer(a):d.readAsText(a);d.onload=function(a){this.callback&&this.callback(a.target.result,g,e)}.bind(this)}},label:function(a,b){this.c[b||2].textContent=a},icon:function(a,b,c){c=c||2;this.s[c].padding=(b||0)+"px 0px";this.c[c].innerHTML=a},rSize:function(){k.prototype.rSize.call(this);for(var a=this.s,b=this.sa,c=this.lng,d=Math.floor((this.sb-3*(c-1))/c);c--;)this.tmp[c]=[Math.floor(b+d*c+3*c),d],this.tmp[c][2]=this.tmp[c][0]+
this.tmp[c][1],a[c+2].left=this.tmp[c][0]+"px",a[c+2].width=this.tmp[c][1]+"px";this.isDragButton&&(a[4].left=b+d+3+"px",a[4].width=d+"px");this.isLoadButton&&(a[3].left=b+"px",a[3].width=d+"px")}});p.prototype=Object.assign(Object.create(k.prototype),{constructor:p,mode:function(a){if(this.cmode===a)return!1;switch(a){case 0:this.s[2].color=this.fontColor;this.setSvg(this.c[3],"stroke","rgba(0,0,0,0.1)",0);this.setSvg(this.c[3],"stroke",this.fontColor,1);break;case 1:this.s[2].color=this.colorPlus,
this.setSvg(this.c[3],"stroke","rgba(0,0,0,0.3)",0),this.setSvg(this.c[3],"stroke",this.colorPlus,1)}this.cmode=a;return!0},reset:function(){this.isDown=!1},mouseup:function(a){this.isDown=!1;this.sendEnd();return this.mode(0)},mousedown:function(a){this.isDown=!0;this.old=this.value;this.oldr=null;this.mousemove(a);return this.mode(1)},mousemove:function(a){if(this.isDown){var b=this.offset;b.x=this.radius-(a.clientX-this.zone.x);b.y=this.radius-(a.clientY-this.zone.y-this.top);this.r=b.angle()-
this.pi90;this.r=(this.r%this.twoPi+this.twoPi)%this.twoPi;null!==this.oldr&&(a=this.r-this.oldr,this.r=Math.abs(a)>Math.PI?this.oldr:this.r,6<a&&(this.r=0),-6>a&&(this.r=this.twoPi));a=1/this.twoPi*this.range*this.r+this.min-this.old;if(a>=this.step||a<=this.step)a=~~(a/this.step),this.value=this.numValue(this.old+a*this.step),this.update(!0),this.old=this.value,this.oldr=this.r}},makePath:function(){var a=this.percent*this.twoPi-.001;return"M 64,24 A 40,40 0 "+(a>Math.PI?1:0)+" 1 "+(40*Math.sin(a)+
64)+","+(40-40*Math.cos(a)+24)},update:function(a){this.c[2].textContent=this.value;this.percent=(this.value-this.min)/this.range;this.setSvg(this.c[3],"d",this.makePath(),1);a&&this.send()}});t.prototype=Object.assign(Object.create(k.prototype),{constructor:t,testZone:function(a,b){var c=this.local;if(-1===c.x&&-1===c.y)return"";if(this.up&&this.isOpen)return c.y>this.wfixe?"title":"color";if(c.y<this.baseH+2)return"title";if(this.isOpen)return"color"},mouseup:function(a){this.isDown=!1},mousedown:function(a){var b=
this.testZone(a.clientX,a.clientY);if("title"===b)return this.isOpen?this.close():this.open(),!0;"color"===b&&(this.isDown=!0,this.mousemove(a))},mousemove:function(a){var b=this.testZone(a.clientX,a.clientY);"title"===b&&this.cursor("pointer");"color"===b&&(this.cursor("crosshair"),this.isDown&&(b=this.offset,b.x=a.clientX-(this.zone.x+this.decal.x+this.mid),b.y=a.clientY-(this.zone.y+this.decal.y+this.mid),a=b.length()*this.ratio,128>a&&(88<a?(b=(b.angle()+this.pi90)/6.28,this.setHSL([(b+1)%1,this.hsl[1],
this.hsl[2]])):(a=Math.max(0,Math.min(1,.5-b.x*this.square*.5)),b=Math.max(0,Math.min(1,.5-b.y*this.square*.5)),this.setHSL([this.hsl[0],a,b])))))},setHeight:function(){this.h=this.isOpen?this.wfixe+this.baseH+5:this.baseH;this.s[0].height=this.h+"px";this.zone.h=this.h},parentHeight:function(a){null!==this.parentGroup?this.parentGroup.calc(a):this.isUI&&this.main.calc(a)},open:function(){k.prototype.open.call(this);this.setHeight();this.up&&(this.zone.y-=this.wfixe+5);var a=this.h-this.baseH;this.s[3].visibility=
"visible";this.parentHeight(a)},close:function(){k.prototype.close.call(this);this.up&&(this.zone.y+=this.wfixe+5);var a=this.h-this.baseH;this.setHeight();this.s[3].visibility="hidden";this.parentHeight(-a)},update:function(a){var b=h.rgbToHex(h.hslToRgb([this.hsl[0],1,.5]));this.moveMarkers();this.value=this.bcolor;this.setSvg(this.c[3],"fill",b,2);this.s[2].background=this.bcolor;this.c[2].textContent=h.htmlToHex(this.bcolor);this.invert=h.findDeepInver(this.rgb);this.s[2].color=this.invert?"#fff":
"#000";a&&("array"===this.ctype&&this.send(this.rgb),"rgb"===this.ctype&&this.send(h.htmlRgb(this.rgb)),"hex"===this.ctype&&this.send(h.htmlToHex(this.value)),"html"===this.ctype&&this.send())},setColor:function(a){var b=h.unpack(a);this.bcolor!=a&&b&&(this.bcolor=a,this.rgb=b,this.hsl=h.rgbToHsl(this.rgb),this.update());return this},setHSL:function(a){this.hsl=a;this.rgb=h.hslToRgb(a);this.bcolor=h.rgbToHex(this.rgb);this.update(!0);return this},moveMarkers:function(){var a=this.invert?"#fff":"#000",
b=6.28*this.hsl[0],b=(new n(108*Math.sin(b),108*-Math.cos(b))).addScalar(128);this.setSvg(this.c[3],"cx",b.x,5);this.setSvg(this.c[3],"cy",b.y,5);b.set(120*(.5-this.hsl[1]),120*(.5-this.hsl[2])).addScalar(128);this.setSvg(this.c[3],"cx",b.x,6);this.setSvg(this.c[3],"cy",b.y,6);this.setSvg(this.c[3],"stroke",a,6)},rSize:function(){k.prototype.rSize.call(this);var a=this.s;a[2].width=this.sb+"px";a[2].left=this.sa+"px";this.decal.x=Math.floor(.5*(this.w-this.wfixe));this.decal.y="up"===this.side?2:
this.baseH+2;this.mid=Math.floor(.5*this.wfixe);this.setSvg(this.c[3],"viewBox","0 0 "+this.wfixe+" "+this.wfixe);a[3].width=this.wfixe+"px";a[3].height=this.wfixe+"px";a[3].left=this.decal.x+"px";a[3].top=this.decal.y+"px";this.ratio=256/this.wfixe;this.square=1/(this.wfixe/256*60);this.setHeight()}});u.prototype=Object.assign(Object.create(k.prototype),{constructor:u,mousedown:function(a){this.isShow?this.hide():this.show()},mode:function(a){var b=this.s;switch(a){case 0:b[1].color=this.fontColor;
break;case 1:b[1].color="#FFF";break;case 2:b[1].color=this.fontColor}},makePath:function(a){var b;b="M -1 50";for(var c=0;c<this.res+1;c++)b+=" L "+c+" "+a[c];return b+=" L "+(this.res+1)+" 50"},drawGraph:function(){var a=this.c[2];this.pa1.shift();this.pa1.push(8.5+this.round(30*(1-this.fps/100)));this.setSvg(a,"d",this.makePath(this.pa1),0);this.pa2.shift();this.pa2.push(8.5+this.round(30*(1-this.ms/200)));this.setSvg(a,"d",this.makePath(this.pa2),1);this.isMem&&(this.pa3.shift(),this.pa3.push(8.5+
this.round(30*(1-this.mm))),this.setSvg(a,"d",this.makePath(this.pa3),2))},show:function(){this.h=this.hplus+this.baseH;this.setSvg(this.c[4],"d","M 5 8 L 8 3 2 3 5 8 Z");null!==this.parentGroup?this.parentGroup.calc(this.hplus):this.isUI&&this.main.calc(this.hplus);this.s[0].height=this.h+"px";this.s[2].display="block";this.isShow=!0;m.addListen(this)},hide:function(){this.h=this.baseH;this.setSvg(this.c[4],"d","M 3 8 L 8 5 3 2 3 8 Z");null!==this.parentGroup?this.parentGroup.calc(-this.hplus):this.isUI&&
this.main.calc(-this.hplus);this.s[0].height=this.h+"px";this.s[2].display="none";this.isShow=!1;m.removeListen(this);this.c[1].textContent="FPS"},begin:function(){this.startTime=this.now()},end:function(){var a=this.now();this.ms=a-this.startTime;this.frames++;if(a>this.prevTime+1E3&&(this.fps=this.round(1E3*this.frames/(a-this.prevTime)),this.prevTime=a,this.frames=0,this.isMem)){var b=performance.memory.usedJSHeapSize,c=performance.memory.jsHeapSizeLimit;this.mem=this.round(9.54E-7*b);this.mm=
b/c}this.drawGraph();this.c[1].innerHTML="FPS "+this.fps+'<font color="yellow"> MS '+(this.ms|0)+'</font><font color="cyan"> MB '+this.mem+"</font>";return a},listening:function(){this.startTime=this.end()},rSize:function(){this.s[0].width=this.w+"px";this.s[1].width=this.w+"px";this.s[2].left="10px";this.s[2].width=this.w-20+"px"}});D.prototype=Object.assign(Object.create(k.prototype),{constructor:D,testZone:function(a){a=this.local;if(-1===a.x&&-1===a.y)return"";var b=this.lng,c=this.tmp;if(a.y>
this.top&&a.y<this.h-20)for(;b--;)if(a.x>c[b][0]&&a.x<c[b][2])return b;return""},mode:function(a,b){if(a===this.cMode[b])return!1;var c;switch(a){case 0:c=.3;break;case 1:c=.6;break;case 2:c=1}this.reset();this.setSvg(this.c[3],"fill-opacity",c,b+2);this.cMode[b]=a;return!0},reset:function(){for(var a=!1,b=this.lng;b--;)0!==this.cMode[b]&&(this.cMode[b]=0,this.setSvg(this.c[3],"fill-opacity",.3,b+2),a=!0);return a},mouseup:function(a){this.isDown=!1;if(-1!==this.current)return this.reset()},mousedown:function(a){this.isDown=
!0;return this.mousemove(a)},mousemove:function(a){var b,c=this.testZone(a);""===c?b=this.reset():(b=this.mode(this.isDown?2:1,c),this.isDown&&(this.v[c]=this.clamp(1-(a.clientY-this.zone.y-this.top-10)/this.gh,0,1),this.update(!0)));return b},update:function(a){this.updateSVG();a&&this.send()},makePath:function(){for(var a="",b,c,d,g,e,f,h=0;h<this.lng;h++)b=14+(this.gh-this.v[h]*this.gh),c=14+h*this.iw+4*h,g=c+.5*this.iw,d=c+this.iw,a=0===h?a+("M "+c+" "+b+" T "+g+" "+b):a+(" C "+e+" "+f+","+c+
" "+b+","+g+" "+b),h===this.lng-1&&(a+=" T "+d+" "+b),e=d,f=b;return a},updateSVG:function(){for(var a=0;a<this.lng;a++)this.setSvg(this.c[3],"d",this.makePath(),0),this.setSvg(this.c[3],"height",this.v[a]*this.gh,a+2),this.setSvg(this.c[3],"y",14+(this.gh-this.v[a]*this.gh),a+2),this.value[a]=1*(this.v[a]*this.multiplicator).toFixed(this.precision);this.c[2].textContent=this.value}});v.prototype=Object.assign(Object.create(k.prototype),{constructor:v,isGroup:!0,testZone:function(a){a=this.local;
if(-1===a.x&&-1===a.y)return"";var b="";a.y<this.baseH?b="title":this.isOpen&&(b="content");return b},clearTarget:function(){if(-1===this.current)return!1;this.target.uiout();this.target.reset();this.current=-1;this.target=null;m.cursor();return!0},reset:function(){this.clearTarget()},handleEvent:function(a){var b=a.type,c=!1,d=!1,e=this.testZone(a);if(e){switch(e){case "content":this.target&&(d=this.target.handleEvent(a));m.lock||(a=m.findTarget(this.uis,a),a!==this.current&&(this.clearTarget(),
this.current=a,c=!0),-1!==a&&(this.target=this.uis[this.current],this.target.uiover()));break;case "title":"mousedown"===b&&(this.isOpen?this.close():this.open())}this.isDown&&(c=!0);d&&(c=!0);return c}},calcH:function(){var a=this.uis.length,b,c,d=0,e=0,f=0;for(b=0;b<a;b++)c=this.uis[b],c.autoWidth?d+=c.h+1:(0===e?d+=c.h+1:f<c.h&&(d+=c.h-f),f=c.h,e+=c.w,e+c.w>this.w&&(e=0));return d},calcUis:function(){this.isOpen&&m.calcUis(this.uis,this.zone,this.zone.y+this.baseH)},setBG:function(a){this.s[0].background=
a;for(var b=this.uis.length;b--;)this.uis[b].setBG(a)},add:function(){var a=arguments;"object"===typeof a[1]?(a[1].isUI=this.isUI,a[1].target=this.c[2],a[1].main=this.main):"string"===typeof arguments[1]&&(void 0===a[2]?[].push.call(a,{isUI:!0,target:this.c[2],main:this.main}):(a[2].isUI=!0,a[2].target=this.c[2],a[2].main=this.main));a=E.apply(this,a);this.uis.push(a);a.autoHeight&&(a.parentGroup=this);return a},parentHeight:function(a){null!==this.parentGroup?this.parentGroup.calc(a):this.isUI&&
this.main.calc(a)},open:function(){k.prototype.open.call(this);this.setSvg(this.c[4],"d",this.svgs.arrowDown);this.rSizeContent();this.parentHeight(this.h-this.baseH)},close:function(){k.prototype.close.call(this);var a=this.h-this.baseH;this.setSvg(this.c[4],"d",this.svgs.arrow);this.h=this.baseH;this.s[0].height=this.h+"px";this.parentHeight(-a)},clear:function(){this.clearGroup();this.isUI&&this.main.calc(-(this.h+1));k.prototype.clear.call(this)},clearGroup:function(){this.close();for(var a=this.uis.length;a--;)this.uis[a].clear(),
this.uis.pop();this.uis=[];this.h=this.baseH},calc:function(a){this.isOpen&&(void 0!==a?(this.h+=a,this.isUI&&this.main.calc(a)):this.h=this.calcH()+this.baseH,this.s[0].height=this.h+"px")},rSizeContent:function(){for(var a=this.uis.length;a--;)this.uis[a].setSize(this.w),this.uis[a].rSize();this.calc()},rSize:function(){k.prototype.rSize.call(this);var a=this.s;a[3].left=this.sa+this.sb-17+"px";a[1].width=this.w+"px";a[2].width=this.w+"px";this.isOpen&&this.rSizeContent()}});w.prototype=Object.assign(Object.create(k.prototype),
{constructor:w,mode:function(a){switch(a){case 0:this.setSvg(this.c[3],"fill","url(#gradIn)",4);this.setSvg(this.c[3],"stroke","#000",4);break;case 1:this.setSvg(this.c[3],"fill","url(#gradIn2)",4),this.setSvg(this.c[3],"stroke","rgba(0,0,0,0)",4)}},reset:function(){this.mode(0)},mouseup:function(a){this.isDown=!1;this.interval=setInterval(this.update.bind(this),10)},mousedown:function(a){this.isDown=!0;this.mousemove(a);this.mode(2)},mousemove:function(a){this.mode(1);this.isDown&&(this.tmp.x=this.radius-
(a.clientX-this.zone.x),this.tmp.y=this.radius-(a.clientY-this.zone.y-this.top),this.tmp.length()>this.distance&&(a=Math.atan2(this.tmp.x,this.tmp.y),this.tmp.x=Math.sin(a)*this.distance,this.tmp.y=Math.cos(a)*this.distance),this.pos.copy(this.tmp).divideScalar(this.distance),this.update())},setValue:function(a,b){this.pos.set(a||0,b||0);this.updateSVG()},update:function(a){void 0===a&&(a=!0);null!==this.interval&&(this.isDown||(this.pos.x+=(0-this.pos.x)/3,this.pos.y+=(0-this.pos.y)/3,this.isUI&&
this.main.isCanvas&&this.main.draw()),this.pos.nearEquals(this.old,2)&&this.pos.set(0,0));this.updateSVG();a&&this.send();null!==this.interval&&0===this.pos.x&&0===this.pos.y&&(clearInterval(this.interval),this.interval=null)},updateSVG:function(){var a=this.radius-this.pos.x*this.distance,b=this.radius-this.pos.y*this.distance,c=b+5*(1-this.pos.y)+10;this.setSvg(this.c[3],"cx",(a+5*(1-this.pos.x)+5)*this.ratio,3);this.setSvg(this.c[3],"cy",c*this.ratio,3);this.setSvg(this.c[3],"cx",a*this.ratio,
4);this.setSvg(this.c[3],"cy",b*this.ratio,4);this.old.copy(this.pos);this.value[0]=1*(this.pos.x*this.multiplicator).toFixed(this.precision);this.value[1]=1*(this.pos.y*this.multiplicator).toFixed(this.precision);this.c[2].textContent=this.value}});x.prototype=Object.assign(Object.create(p.prototype),{constructor:x,mode:function(a){if(this.cmode===a)return!1;switch(a){case 0:this.s[2].color=this.fontColor;this.setSvg(this.c[3],"fill",this.colors.button,0);this.setSvg(this.c[3],"stroke",this.fontColor,
1);break;case 1:this.s[2].color=this.colorPlus,this.setSvg(this.c[3],"fill",this.colors.select,0),this.setSvg(this.c[3],"stroke",this.colorPlus,1)}this.cmode=a;return!0},mousemove:function(a){if(this.isDown){var b=this.offset;b.x=this.radius-(a.clientX-this.zone.x);b.y=this.radius-(a.clientY-this.zone.y-this.top);this.r=-Math.atan2(b.x,b.y);null!==this.oldr&&(this.r=Math.abs(this.r-this.oldr)>Math.PI?this.oldr:this.r);this.r=this.r>this.mPI?this.mPI:this.r;this.r=this.r<-this.mPI?-this.mPI:this.r;
a=1/this.cirRange*this.range*(this.r+this.mPI)+this.min-this.old;if(a>=this.step||a<=this.step)a=Math.floor(a/this.step),this.value=this.numValue(this.old+a*this.step),this.update(!0),this.old=this.value,this.oldr=this.r}},makeGrad:function(){var a="",b,c,d,e,f,h,k=Math.PI+this.mPI;b=Math.PI-this.mPI;5<this.step?(c=this.range/this.step,b=(k-b)/c):(b=(k-b)/64*2,c=32);for(var l=0;l<=c;++l)d=k-b*l,e=64+44*Math.sin(d),f=64+44*Math.cos(d),h=64+40*Math.sin(d),d=64+40*Math.cos(d),a+="M"+e+" "+f+" L"+h+" "+
d+" ";return a},update:function(a){this.c[2].textContent=this.value;this.percent=(this.value-this.min)/this.range;var b=this.percent*this.cirRange-this.mPI,c=Math.sin(b),b=Math.cos(b);this.setSvg(this.c[3],"d","M "+(25*c+64)+" "+(-(25*b)+64)+" L "+(20*c+64)+" "+(-(20*b)+64),1);a&&this.send()}});y.prototype=Object.assign(Object.create(k.prototype),{constructor:y,testZone:function(a){a=this.local;if(-1===a.x&&-1===a.y)return"";if(this.up&&this.isOpen){if(a.y>this.h-this.baseH)return"title";if(this.scroll&&
a.x>this.sa+this.sb-20)return"scroll";if(a.x>this.sa)return this.testItems(a.y-this.baseH)}else{if(a.y<this.baseH+2)return"title";if(this.isOpen){if(this.scroll&&a.x>this.sa+this.sb-20)return"scroll";if(a.x>this.sa)return this.testItems(a.y-this.baseH)}}return""},testItems:function(a){for(var b="",c=this.items.length,d,e,f;c--;)if(d=this.items[c],e=d.posy+this.topList,f=d.posy+this.itemHeight+1+this.topList,a>=e&&a<=f){b="item"+c;this.unSelected();this.current=d;this.selected();break}return b},unSelected:function(){this.current&&
(this.current.style.background="rgba(0,0,0,0.2)",this.current.style.color=this.fontColor,this.current=null)},selected:function(){this.current.style.background=this.colors.select;this.current.style.color="#FFF"},mouseup:function(a){this.isDown=!1},mousedown:function(a){var b=this.testZone(a);if(!b)return!1;"scroll"===b?(this.isDown=!0,this.mousemove(a)):"title"===b?(this.modeTitle(2),this.isOpen?this.close():this.open()):this.current&&(this.value=this.current.textContent,this.c[3].textContent=this.value,
this.send(),this.close());return!0},mousemove:function(a){var b=!1,c=this.testZone(a);if(!c)return b;"title"===c?(this.unSelected(),this.modeTitle(1),this.cursor("pointer")):"scroll"===c?(this.cursor("s-resize"),this.modeScroll(1),this.isDown&&(this.modeScroll(2),this.update(a.clientY-(this.zone.y+this.baseH-2)-.5*this.sh))):(this.modeTitle(0),this.modeScroll(0),this.cursor("pointer"));c!==this.prevName&&(b=!0);this.prevName=c;return b},wheel:function(a){if("title"===this.testZone(a))return!1;this.py+=
10*a.delta;this.update(this.py);return!0},reset:function(){this.prevName="";this.unSelected();this.modeTitle(0);this.modeScroll(0)},modeScroll:function(a){if(a!==this.sMode){switch(a){case 0:this.scroller.style.background=this.buttonColor;break;case 1:this.scroller.style.background=this.colors.select;break;case 2:this.scroller.style.background=this.colors.down}this.sMode=a}},modeTitle:function(a){if(a!==this.tMode){var b=this.s;switch(a){case 0:b[3].color=this.fontColor;b[3].background=this.buttonColor;
break;case 1:b[3].color="#FFF";b[3].background=this.colors.select;break;case 2:b[3].color=this.fontColor,b[3].background=this.colors.down}this.tMode=a}},clearList:function(){for(;this.listIn.children.length;)this.listIn.removeChild(this.listIn.lastChild);this.items=[]},setList:function(a,b){this.clearList();this.list=a;this.length=this.list.length;this.maxItem=this.full?this.length:5;this.maxItem=this.length<this.maxItem?this.length:this.maxItem;this.maxHeight=this.maxItem*(this.itemHeight+1)+2;this.max=
this.length*(this.itemHeight+1)+2;this.ratio=this.maxHeight/this.max;this.sh=this.maxHeight*this.ratio;this.range=this.maxHeight-this.sh;this.c[2].style.height=this.maxHeight+"px";this.scroller.style.height=this.sh+"px";this.max>this.maxHeight&&(this.ww=this.sb-20,this.scroll=!0);for(var c,d,e=0;e<this.length;e++)d=this.list[e],c=this.dom("div",this.css.item+"width:"+this.ww+"px; height:"+this.itemHeight+"px; line-height:"+(this.itemHeight-5)+"px; color:"+this.fontColor+";"),c.textContent=d,c.name=
"item"+e,c.posy=(this.itemHeight+1)*e,this.listIn.appendChild(c),this.items.push(c);void 0!==b?isNaN(b)?this.value=b:this.value=this.list[b]:this.value=this.list[0];this.c[3].textContent=this.value},update:function(a){this.scroll&&(a=0>a?0:a,a=a>this.range?this.range:a,this.topList=-Math.floor(a/this.ratio),this.listIn.style.top=this.topList+"px",this.scroller.style.top=Math.floor(a)+"px",this.py=a)},parentHeight:function(a){null!==this.parentGroup?this.parentGroup.calc(a):this.isUI&&this.main.calc(a)},
open:function(){k.prototype.open.call(this);this.update(0);this.h=this.maxHeight+this.baseH+5;this.scroll?this.scroller.style.display="block":(this.topList=0,this.h=this.baseH+5+this.max,this.scroller.style.display="none");this.s[0].height=this.h+"px";this.s[2].display="block";this.up?(this.zone.y-=this.h-(this.baseH-10),this.setSvg(this.c[4],"d",this.svgs.arrowUp)):this.setSvg(this.c[4],"d",this.svgs.arrowDown);this.rSizeContent();var a=this.h-this.baseH;this.zone.h=this.h;this.parentHeight(a)},
close:function(){k.prototype.close.call(this);this.up&&(this.zone.y+=this.h-(this.baseH-10));var a=this.h-this.baseH;this.h=this.baseH;this.s[0].height=this.h+"px";this.s[2].display="none";this.setSvg(this.c[4],"d",this.svgs.arrow);this.zone.h=this.h;this.parentHeight(-a)},text:function(a){this.c[3].textContent=a},rSizeContent:function(){for(var a=this.length;a--;)this.listIn.children[a].style.width=this.ww+"px"},rSize:function(){k.prototype.rSize.call(this);var a=this.s,b=this.sb,c=this.sa;a[2].width=
b+"px";a[2].left=c+"px";a[3].width=b+"px";a[3].left=c+"px";a[4].left=c+b-17+"px";this.ww=b;this.max>this.maxHeight&&(this.ww=b-20);this.isOpen&&this.rSizeContent()}});z.prototype=Object.assign(Object.create(k.prototype),{constructor:z,testZone:function(a){a=this.local;if(-1===a.x&&-1===a.y)return"";for(var b=this.lng,c=this.tmp;b--;)if(a.x>c[b][0]&&a.x<c[b][2])return b;return""},mode:function(a,b){if(a===this.cMode[b])return!1;var c;switch(a){case 0:c=this.colors.border;break;case 1:c=this.colors.borderOver;
break;case 2:c=this.colors.borderSelect}this.reset();this.c[b+2].style.borderColor=c;this.cMode[b]=a;return!0},mousedown:function(a){var b=this.testZone(a);if(""===b)return!1;this.current=b;this.isDown=!0;this.prev={x:a.clientX,y:a.clientY,d:0,v:this.isNumber?parseFloat(this.value):parseFloat(this.value[this.current])};return this.mode(2,b)},mouseup:function(a){a=this.testZone(a);this.isDown=!1;if(-1!==this.current){var b=this.prev.d;this.current=-1;this.prev={x:0,y:0,d:0,v:0};if(b)return this.reset();
this.setInput(this.c[a+2],function(){this.testValue()}.bind(this));return!0}},mousemove:function(a){var b;b=this.testZone(a);""===b?(b=this.reset(),this.cursor()):(b=this.mode(1,b),this.cursor(-1!==this.current?"move":"pointer"));-1!==this.current&&(this.prev.d+=a.clientX-this.prev.x-(a.clientY-this.prev.y),this.value[this.current]=this.numValue(this.prev.v+this.prev.d*this.step),this.c[2+this.current].textContent=this.value[this.current],this.validate(),this.prev.x=a.clientX,this.prev.y=a.clientY,
b=!0);return b},keydown:function(a){return!0},reset:function(){var a=!1;this.isDown=!1;for(var b=this.lng;b--;)0!==this.cMode[b]&&(this.cMode[b]=0,this.c[2+b].style.borderColor=this.colors.border,a=!0);return a},setValue:function(a,b){b=b||0;this.value[b]=this.numValue(a);this.c[2+b].textContent=this.value[b]},testValue:function(){for(var a=this.lng;a--;)if(isNaN(this.c[2+a].textContent))this.c[2+a].textContent=this.value[a];else{var b=this.numValue(this.c[2+a].textContent);this.c[2+a].textContent=
b;this.value[a]=b}this.validate()},validate:function(){for(var a=[],b=this.lng;b--;)a[b]=this.value[b]*this.toRad;this.isNumber?this.send(a[0]):this.send(a)},rSize:function(){k.prototype.rSize.call(this);for(var a=Math.floor((this.sb+5)/this.lng)-5,b=this.s,c=this.lng;c--;)this.tmp[c]=[Math.floor(this.sa+a*c+5*c),a],this.tmp[c][2]=this.tmp[c][0]+this.tmp[c][1],b[2+c].left=this.tmp[c][0]+"px",b[2+c].width=this.tmp[c][1]+"px"}});A.prototype=Object.assign(Object.create(k.prototype),{constructor:A,testZone:function(a){a=
this.local;return-1===a.x&&-1===a.y?"":a.x>=this.txl?"text":a.x>=this.sa?"scroll":""},mouseup:function(a){this.isDown&&(this.isDown=!1)},mousedown:function(a){var b=this.testZone(a);if(!b)return!1;"scroll"===b&&(this.isDown=!0,this.old=this.value,this.mousemove(a));"text"===b&&this.setInput(this.c[2],function(){this.validate()}.bind(this));return!0},mousemove:function(a){var b=!1,c=this.testZone(a);"scroll"===c?(this.mode(1),this.cursor("w-resize")):"text"===c?this.cursor("pointer"):this.cursor();
if(this.isDown){a=(a.clientX-(this.zone.x+this.sa)-3)/this.ww*this.range+this.min-this.old;if(a>=this.step||a<=this.step)a=Math.floor(a/this.step),this.value=this.numValue(this.old+a*this.step),this.update(!0),this.old=this.value;b=!0}return b},keydown:function(a){return!0},validate:function(){var a=this.c[2].textContent;isNaN(a)?this.c[2].textContent=this.value:(this.value=this.numValue(a),this.update(!0))},reset:function(){this.isDown=!1;this.mode(0)},mode:function(a){var b=this.s;switch(a){case 0:b[2].color=
this.fontColor;b[4].background="rgba(0,0,0,0.3)";b[5].background=this.fontColor;break;case 1:b[2].color=this.colorPlus,b[4].background="rgba(0,0,0,0.6)",b[5].background=this.colorPlus}},update:function(a){var b=Math.floor((this.value-this.min)/this.range*this.ww);3!==this.stype&&(this.s[5].width=b+"px");this.s[6]&&(this.s[6].left=this.sa+b+3+"px");this.c[2].textContent=this.value;a&&this.send()},rSize:function(){k.prototype.rSize.call(this);var a=this.sb-this.sc;this.ww=a-6;var b=this.sc;if(this.isUI||
!this.simple)b=this.sc+10;this.txl=this.w-b+2;var b=Math.floor(.5*this.h)-8,c=this.s;c[2].width=this.sc-2+"px";c[2].left=this.txl+"px";c[2].top=b+"px";c[3].left=this.sa+"px";c[3].width=a+"px";c[4].left=this.sa+"px";c[4].width=a+"px";c[5].left=this.sa+3+"px";this.update()}});B.prototype=Object.assign(Object.create(k.prototype),{constructor:B,mousedown:function(a){this.setInput(this.c[2],function(){this.validate()}.bind(this));return this.mode(2)},mousemove:function(a){return this.mode(1)},keydown:function(a){return!0},
mode:function(a){if(a===this.cmode)return!1;var b;switch(a){case 0:b=this.colors.border;break;case 1:b=this.colors.borderOver;break;case 2:b=this.colors.borderSelect}this.c[2].style.borderColor=b;this.cmode=a;return!0},reset:function(){this.mode(0)},rSize:function(){k.prototype.rSize.call(this);var a=this.s;a[2].color=this.fontColor;a[2].left=this.sa+"px";a[2].width=this.sb+"px";a[2].height=this.h-4+"px";a[2].lineHeight=this.h-8+"px"},validate:function(){this.value=this.c[2].textContent;this.send()}});
C.prototype=Object.assign(Object.create(k.prototype),{constructor:C,text:function(a){this.c[1].textContent=a},text2:function(a){this.c[2].textContent=a},rSize:function(){k.prototype.rSize.call(this);this.s[1].width=this.w-50+"px";this.s[2].left=this.w-76+"px"}});Object.assign(F.prototype,{constructor:F,isGui:!0,onDraw:function(){},makeCanvas:function(){this.canvas=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");this.canvas.width=this.zone.w;this.canvas.height=this.forceHeight?this.forceHeight:
this.zone.h},draw:function(a){null!==this.canvas&&m.toCanvas(this,this.zone.w,this.forceHeight?this.forceHeight:this.zone.h,a)},getDom:function(){return this.content},setMouse:function(a){this.mouse.set(a.x,a.y)},setText:function(a,b,c){h.setText(a,b,c)},hide:function(a){this.content.style.display=a?"none":"block"},onChange:function(a){this.callback=a;return this},mode:function(a){var b=!1;if(a!==this.cn){this.cn=a;switch(a){case "def":this.scroll.style.background=this.colors.scroll;this.bottom.style.background=
this.colors.background;this.bottom.style.color="#CCC";break;case "scrollOver":this.scroll.style.background=this.colors.select;break;case "scrollDown":this.scroll.style.background=this.colors.down;break;case "bottomOver":this.bottom.style.background=this.colors.backgroundOver,this.bottom.style.color="#FFF"}b=!0}return b},clearTarget:function(){if(-1===this.current)return!1;this.target.uiout();this.target.reset();this.target=null;this.current=-1;m.cursor();return!0},testZone:function(a){a=this.local;
if(-1===a.x&&-1===a.y)return"";this.isReset=!1;var b=this.isScroll?this.zone.w-this.size.s:this.zone.w;return a.y>this.zone.h-this.bh&&a.y<this.zone.h?"bottom":a.x>b?"scroll":"content"},handleEvent:function(a){var b=a.type,c=!1,d=!1,e=this.testZone(a);"mouseup"===b&&this.isDown&&(this.isDown=!1);"mousedown"!==b||this.isDown||(this.isDown=!0);if(e){switch(e){case "content":a.clientY=this.isScroll?a.clientY+this.decal:a.clientY;this.target&&(d=this.target.handleEvent(a));"mousemove"===b&&(c=this.mode("def"));
"wheel"===b&&!d&&this.isScroll&&(c=this.onWheel(a));m.lock||(a=m.findTarget(this.uis,a),a!==this.current&&(this.clearTarget(),this.current=a,c=!0),-1!==a&&(this.target=this.uis[this.current],this.target.uiover()));break;case "bottom":this.clearTarget();"mousemove"===b&&(c=this.mode("bottomOver"));"mousedown"===b&&(this.isOpen=this.isOpen?!1:!0,this.bottom.textContent=this.isOpen?"close":"open",this.setHeight(),this.mode("def"),c=!0);break;case "scroll":this.clearTarget(),"mousemove"===b&&(c=this.mode("scrollOver")),
"mousedown"===b&&(c=this.mode("scrollDown")),"wheel"===b&&(c=this.onWheel(a)),this.isDown&&this.update(a.clientY-this.zone.y-.5*this.sh)}this.isDown&&(c=!0);d&&(c=!0);c&&this.draw()}},onWheel:function(a){this.oy+=20*a.delta;this.update(this.oy);return!0},reset:function(a){if(!this.isReset){this.mouse.neg();this.isDown=!1;m.clearInput();a=this.mode("def");var b=this.clearTarget();(a||b)&&this.draw(!0);this.isReset=!0}},add:function(){var a=arguments;"object"===typeof a[1]?(a[1].isUI=!0,a[1].main=this):
"string"===typeof a[1]&&(void 0===a[2]?[].push.call(a,{isUI:!0,main:this}):(a[2].isUI=!0,a[2].main=this));a=E.apply(this,a);if(null!==a){this.uis.push(a);if(a.autoWidth)this.prevY=0,this.calc(a.h+1);else{var b=a.c[0].getBoundingClientRect().top;this.prevY!==b&&(this.calc(a.h+1),this.prevY=b)}return a}},applyCalc:function(){this.calc(this.tmpH);this.tmpAdd=null},calcUis:function(){m.calcUis(this.uis,this.zone,this.zone.y)},remove:function(a){a=this.uis.indexOf(a);-1!==a&&this.uis[a].clear()},clearOne:function(a){a=
this.uis.indexOf(a);-1!==a&&(this.inner.removeChild(this.uis[a].c[0]),this.uis.splice(a,1))},clear:function(){for(var a=this.uis.length;a--;)this.uis[a].clear();this.uis=[];m.listens=[];this.calc(-this.h)},upScroll:function(a){this.sw=a?this.size.s:0;this.oy=a?this.oy:0;this.scrollBG.style.display=a?"block":"none";a&&(this.total=this.h,this.maxView=this.maxHeight,this.ratio=this.maxView/this.total,this.sh=this.maxView*this.ratio,this.range=this.maxView-this.sh,this.oy=h.clamp(this.oy,0,this.range),
this.scrollBG.style.height=this.maxView+"px",this.scroll.style.height=this.sh+"px");this.setItemWidth(this.zone.w-this.sw);this.update(this.oy)},update:function(a){a=h.clamp(a,0,this.range);this.decal=Math.floor(a/this.ratio);this.inner.style.top=-this.decal+"px";this.scroll.style.top=Math.floor(a)+"px";this.oy=a},calc:function(a){this.h+=a;clearTimeout(this.tmp);this.tmp=setTimeout(this.setHeight.bind(this),10)},setHeight:function(){this.tmp&&clearTimeout(this.tmp);this.zone.h=this.bh;this.isScroll=
!1;this.isOpen&&(this.maxHeight=(this.forceHeight?this.forceHeight:window.innerHeight)-this.zone.y-this.bh,1<this.h-this.maxHeight?(this.isScroll=!0,this.zone.h=this.maxHeight+this.bh):this.zone.h=this.h+this.bh);this.upScroll(this.isScroll);this.innerContent.style.height=this.zone.h-this.bh+"px";this.content.style.height=this.zone.h+"px";this.bottom.style.top=this.zone.h-this.bh+"px";this.isOpen&&this.calcUis();this.isCanvas&&this.draw(!0)},setWidth:function(a){a&&(this.zone.w=a);this.content.style.width=
this.zone.w+"px";this.isCenter&&(this.content.style.marginLeft=-Math.floor(.5*this.zone.w)+"px");this.setItemWidth(this.zone.w-this.sw);this.setHeight();this.isCanvasOnly||(m.needReZone=!0)},setItemWidth:function(a){for(var b=this.uis.length;b--;)this.uis[b].setSize(a),this.uis[b].rSize()}});l.REVISION="2.0";l.Tools=h;l.Gui=F;l.Proto=k;l.add=E;l.Bool=q;l.Button=r;l.Circular=p;l.Color=t;l.Fps=u;l.Group=v;l.Joystick=w;l.Knob=x;l.List=y;l.Numeric=z;l.Slide=A;l.TextInput=B;l.Title=C;Object.defineProperty(l,
"__esModule",{value:!0})});
=======
// lo-th.github.io/uil/license
!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?s(exports):"function"==typeof define&&define.amd?define(["exports"],s):s(t.UIL=t.UIL||{})}(this,function(t){"use strict";function s(t){if(t=t||{},this.main=t.main||null,this.isUI=t.isUI||!1,this.p=void 0!==t.p?t.p:x.size.p,this.width=this.isUI?this.main.size.w:x.size.w,void 0!==t.w&&(this.width=t.w),this.h=this.isUI?this.main.size.h:x.size.h,void 0!==t.h&&(this.h=t.h),this.h=this.h<11?11:this.h,this.autoWidth=!0,this.isOpen=!1,this.isGroup=!1,this.parentGroup=null,this.autoHeight=!1,this.radius=t.radius||0,this.isNumber=!1,this.mono=!1,this.isEdit=!1,this.simple=t.simple||!1,this.simple&&(this.sa=0),this.setSize(this.width),void 0!==t.sa&&(this.sa=t.sa),void 0!==t.sb&&(this.sb=t.sb),this.simple&&(this.sb=this.width-this.sa),this.sc=void 0===t.sc?47:t.sc,this.parent=null,this.val=null,this.isSend=!1,this.bg=this.isUI?this.main.bg:x.colors.background,void 0!==t.bg&&(this.bg=t.bg),this.titleColor=t.titleColor||x.colors.text,this.fontColor=t.fontColor||x.colors.text,this.colorPlus=x.ColorLuma(this.fontColor,.3),this.name=t.name||"Proto",this.txt=t.name||"Proto",this.rename=t.rename||"",this.target=t.target||null,this.callback=void 0===t.callback?null:t.callback,this.endCallback=null,null===this.callback&&this.isUI&&null!==this.main.callback&&(this.callback=this.main.callback),this.c=[],this.s=[],this.c[0]=x.dom("div",x.css.basic+"position:relative; height:20px; float:left; overflow:hidden;"),this.s[0]=this.c[0].style,this.isUI&&(this.s[0].marginBottom="1px"),this.simple||(this.c[1]=x.dom("div",x.css.txt),this.s[1]=this.c[1].style,this.c[1].textContent=""===this.rename?this.txt:this.rename,this.s[1].color=this.titleColor),t.pos){this.s[0].position="absolute";for(var s in t.pos)this.s[0][s]=t.pos[s];this.mono=!0}t.css&&(this.s[0].cssText=t.css)}function i(t){s.call(this,t),this.value=t.value||!1,this.buttonColor=t.bColor||x.colors.button,this.inh=t.inh||this.h;var i=~~(.5*this.h)-.5*(this.inh-2);this.c[2]=x.dom("div",x.css.basic+"background:"+x.colors.boolbg+"; height:"+(this.inh-2)+"px; width:36px; top:"+i+"px; border-radius:20px; pointer-events:auto; cursor:pointer; transition:0.1s ease-out;"),this.c[3]=x.dom("div",x.css.basic+"opasity:0, background:"+x.colors.boolbg+"; height:"+(this.inh-6)+"px; width:"+(this.inh-6)+"px; top:"+(i+2)+"px; border-radius:20px; "),this.c[4]=x.dom("div",x.css.basic+"border:1px solid "+this.buttonColor+"; height:"+(this.inh-4)+"px; width:16px; top:"+(i+1)+"px; border-radius:20px; background:"+this.buttonColor+"; transition:margin 0.1s ease-out;"),this.value&&(this.c[4].style.marginLeft="18px",this.c[2].style.background=this.fontColor,this.c[2].style.borderColor=this.fontColor),this.c[2].events=["click"],this.init()}function e(t){s.call(this,t),this.value=t.value||[this.txt],this.buttonColor=t.bColor||x.colors.button,this.isLoadButton=t.loader||!1,this.isDragButton=t.drag||!1,this.isDragButton&&(this.isLoadButton=!0),this.lng=this.value.length;for(var i=0;i<this.lng;i++)this.c[i+2]=x.dom("div",x.css.txt+"text-align:center; top:1px; pointer-events:auto; cursor:pointer; background:"+this.buttonColor+"; height:"+(this.h-2)+"px; border-radius:"+this.radius+"px; line-height:"+(this.h-4)+"px;"),this.c[i+2].style.color=this.fontColor,this.c[i+2].events=["click","mouseover","mousedown","mouseup","mouseout"],this.c[i+2].innerHTML=this.value[i],this.c[i+2].name=i;void 0!==this.c[1]&&(this.c[1].textContent=""),this.isLoadButton&&this.initLoader(),this.isDragButton&&(this.lng++,this.initDrager()),this.init()}function h(t){s.call(this,t),this.autoWidth=!1,this.buttonColor=x.colors.button,this.setTypeNumber(t),this.radius=Math.floor(.5*(this.width-20)),this.w=this.height=2*this.radius,this.h=t.height||this.height+40,this.twoPi=2*Math.PI,this.top=0,this.c[0].style.width=this.width+"px",void 0!==this.c[1]&&(this.c[1].style.width=this.width+"px",this.c[1].style.textAlign="center",this.top=20),this.percent=0,this.c[2]=x.dom("div",x.css.txtnumber+"text-align:center; top:"+(this.height+24)+"px; width:"+this.width+"px; color:"+this.fontColor),this.c[3]=x.dom("circle",x.css.basic+"left:10px; top:"+this.top+"px; width:"+this.w+"px; height:"+this.height+"px; pointer-events:auto; cursor:pointer;",{cx:this.radius,cy:this.radius,r:this.radius,fill:"rgba(0,0,0,0.3)"}),this.c[4]=x.dom("path",x.css.basic+"left:10px; top:"+this.top+"px; width:"+this.w+"px; height:"+this.height+"px;",{d:this.makePath(),fill:this.fontColor}),this.c[5]=x.dom("circle",x.css.basic+"left:10px; top:"+this.top+"px; width:"+this.w+"px; height:"+this.height+"px;",{cx:this.radius,cy:this.radius,r:.5*this.radius,fill:this.buttonColor,"stroke-width":1,stroke:x.colors.stroke}),this.c[3].events=["mouseover","mousedown","mouseout"],this.init(),this.update()}function o(t){s.call(this,t),this.autoHeight=!0,this.ctype=t.ctype||"array",this.ww=this.sb,this.oldWidth=0,this.side=t.side||"down",this.holdTop=0,this.wheelWidth=.1*this.ww,this.decal=this.h+2,this.colorRadius=.5*(this.ww-this.wheelWidth)-1,this.square=Math.floor(.7*(this.colorRadius-.5*this.wheelWidth))-1,this.mid=Math.floor(.5*this.ww),this.markerSize=.3*this.wheelWidth,this.baseH=this.h,this.c[2]=x.dom("div",x.css.txt+"height:"+(this.h-4)+"px;border-radius:"+this.radius+"px; pointer-events:auto; cursor:pointer; line-height:"+(this.h-8)+"px;"),this.s[2]=this.c[2].style,"up"===this.side&&(this.decal=5,this.s[2].top="auto",this.s[2].bottom="2px"),this.c[3]=x.dom("div",x.css.basic+"display:none"),this.c[4]=x.dom("canvas",x.css.basic+"display:none;"),this.c[5]=x.dom("canvas",x.css.basic+"pointer-events:auto; cursor:pointer; display:none;"),this.s[3]=this.c[3].style,this.s[5]=this.c[5].style,"up"===this.side&&(this.s[5].pointerEvents="none"),this.c[4].width=this.c[4].height=this.ww,this.c[5].width=this.c[5].height=this.ww,this.ctxMask=this.c[4].getContext("2d"),this.ctxOverlay=this.c[5].getContext("2d"),this.ctxMask.translate(this.mid,this.mid),this.ctxOverlay.translate(this.mid,this.mid),this.hsl=null,this.value="#ffffff",void 0!==t.value&&(t.value instanceof Array?this.value=x.rgbToHex(t.value):isNaN(t.value)?this.value=t.value:this.value=x.hexToHtml(t.value)),this.bcolor=null,this.isDown=!1,this.isDraw=!1,this.c[2].events=["click"],this.c[5].events=["mousedown","mousemove","mouseup","mouseout"],this.setColor(this.value),this.init(),void 0!==t.open&&this.open()}function n(t){s.call(this,t),this.round=Math.round,this.autoHeight=!0,this.baseH=this.h,this.hplus=50,this.res=t.res||40,this.l=1,this.pa1=[],this.pa2=[],this.pa3=[];for(var i=this.res+1;i--;)this.pa1.push(50),this.pa2.push(50),this.pa3.push(50);var e=Math.floor(.5*this.h)-6;this.c[1].textContent="FPS",this.c[0].style.cursor="pointer",this.c[0].style.pointerEvents="auto";var h="display:none; left:10px; top:"+this.h+"px; height:"+(this.hplus-8)+"px; background: rgba(0, 0, 0, 0.2);border:1px solid rgba(255, 255, 255, 0.2); ";this.c[2]=x.dom("path",x.css.basic+h,{fill:"rgba(200,200,200,0.3)","stroke-width":1,stroke:this.fontColor,"vector-effect":"non-scaling-stroke"}),this.c[2].setAttribute("viewBox","0 0 "+this.res+" 42"),this.c[2].setAttribute("height","100%"),this.c[2].setAttribute("width","100%"),this.c[2].setAttribute("preserveAspectRatio","none"),x.dom("path",null,{fill:"rgba(255,255,0,0.3)","stroke-width":1,stroke:"#FF0","vector-effect":"non-scaling-stroke"},this.c[2]),x.dom("path",null,{fill:"rgba(0,255,255,0.3)","stroke-width":1,stroke:"#0FF","vector-effect":"non-scaling-stroke"},this.c[2]),this.c[3]=x.dom("div",x.css.basic+"width:100%; bottom:0px; height:1px; background: rgba(255, 255, 255, 0.2);"),this.c[4]=x.dom("path",x.css.basic+"position:absolute; width:10px; height:10px; left:4px; top:"+e+"px;",{d:"M 3 8 L 8 5 3 2 3 8 Z",fill:this.fontColor,stroke:"none"}),this.isShow=t.show||!1,this.c[1].style.marginLeft="10px",this.now=self.performance&&self.performance.now?self.performance.now.bind(performance):Date.now,this.startTime=this.now(),this.prevTime=this.startTime,this.frames=0,this.isMem=!1,this.ms=0,this.fps=0,this.mem=0,this.mm=0,self.performance&&self.performance.memory&&(this.isMem=!0),this.c[0].events=["click","mousedown","mouseover","mouseout"],this.init()}function r(t){s.call(this,t),this.autoHeight=!0,this.isGroup=!0,this.baseH=this.h;var i=Math.floor(.5*this.h)-6;this.isLine=void 0!==t.line&&t.line,this.c[2]=x.dom("div",x.css.basic+"width:100%; left:0; height:auto; overflow:hidden; top:"+this.h+"px"),this.c[3]=x.dom("path",x.css.basic+"position:absolute; width:10px; height:10px; left:0; top:"+i+"px;",{d:x.GPATH,fill:this.fontColor,stroke:"none"}),this.c[4]=x.dom("path",x.css.basic+"position:absolute; width:10px; height:10px; left:4px; top:"+i+"px;",{d:"M 3 8 L 8 5 3 2 3 8 Z",fill:this.fontColor,stroke:"none"}),this.isLine&&(this.c[5]=x.dom("div",x.css.basic+"background:rgba(255, 255, 255, 0.2); width:100%; left:0; height:1px; bottom:0px"));var e=this.s;e[0].height=this.h+"px",e[1].height=this.h+"px",e[1].pointerEvents="auto",e[1].cursor="pointer",this.c[1].name="group",this.s[1].marginLeft="10px",this.s[1].lineHeight=this.h-4,this.s[1].color=this.fontColor,this.s[1].fontWeight="bold",this.uis=[],this.c[1].events=["click"],this.init(),void 0!==t.bg&&this.setBG(t.bg),void 0!==t.open&&this.open()}function a(t){s.call(this,t),this.autoWidth=!1,this.value=[0,0],this.joyType="analogique",this.precision=t.precision||2,this.multiplicator=t.multiplicator||1,this.x=0,this.y=0,this.oldx=0,this.oldy=0,this.interval=null,this.radius=Math.floor(.5*(this.width-20)),this.innerRadius=t.innerRadius||.6*this.radius,this.maxDistance=this.radius-this.innerRadius-5,this.height=2*this.radius,this.h=t.height||this.height+40,this.top=0,this.c[0].style.width=this.width+"px",void 0!==this.c[1]&&(this.c[1].style.width=this.width+"px",this.c[1].style.textAlign="center",this.top=20),this.c[2]=x.dom("circle",x.css.basic+"left:10px; top:"+this.top+"px; width:"+this.w+"px; height:"+this.height+"px;  pointer-events:auto; cursor:pointer;",{cx:this.radius,cy:this.radius,r:this.radius,fill:"url(#grad)"}),this.c[3]=x.dom("circle",x.css.basic+"left:0px; top:"+(this.top-10)+"px; width:"+(this.w+20)+"px; height:"+(this.height+20)+"px;",{cx:this.radius+10,cy:this.radius+10,r:this.innerRadius+10,fill:"url(#gradS)"}),this.c[4]=x.dom("circle",x.css.basic+"left:10px; top:"+this.top+"px; width:"+this.w+"px; height:"+this.height+"px;",{cx:this.radius,cy:this.radius,r:this.innerRadius,fill:"url(#gradIn)","stroke-width":1,stroke:"#000"}),this.c[5]=x.dom("div",x.css.txt+"text-align:center; top:"+(this.height+20)+"px; width:"+this.width+"px; color:"+this.fontColor);var i=this.c[2];x.dom("defs",null,{},i),x.dom("radialGradient",null,{id:"grad",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},i,1),x.dom("stop",null,{offset:"40%",style:"stop-color:rgb(0,0,0); stop-opacity:0.3;"},i,[1,0]),x.dom("stop",null,{offset:"80%",style:"stop-color:rgb(0,0,0); stop-opacity:0;"},i,[1,0]),x.dom("stop",null,{offset:"90%",style:"stop-color:rgb(50,50,50); stop-opacity:0.4;"},i,[1,0]),x.dom("stop",null,{offset:"100%",style:"stop-color:rgb(50,50,50); stop-opacity:0;"},i,[1,0]),i=this.c[3],x.dom("defs",null,{},i),x.dom("radialGradient",null,{id:"gradS",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},i,1),x.dom("stop",null,{offset:"60%",style:"stop-color:rgb(0,0,0); stop-opacity:0.5;"},i,[1,0]),x.dom("stop",null,{offset:"100%",style:"stop-color:rgb(0,0,0); stop-opacity:0;"},i,[1,0]);var e=["rgb(40,40,40)","rgb(48,48,48)","rgb(30,30,30)"],h=["rgb(1,90,197)","rgb(3,95,207)","rgb(0,65,167)"];i=this.c[4],x.dom("defs",null,{},i),x.dom("radialGradient",null,{id:"gradIn",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},i,1),x.dom("stop",null,{offset:"30%",style:"stop-color:"+e[0]+"; stop-opacity:1;"},i,[1,0]),x.dom("stop",null,{offset:"60%",style:"stop-color:"+e[1]+"; stop-opacity:1;"},i,[1,0]),x.dom("stop",null,{offset:"80%",style:"stop-color:"+e[1]+"; stop-opacity:1;"},i,[1,0]),x.dom("stop",null,{offset:"100%",style:"stop-color:"+e[2]+"; stop-opacity:1;"},i,[1,0]),x.dom("radialGradient",null,{id:"gradIn2",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},this.c[4],1),x.dom("stop",null,{offset:"30%",style:"stop-color:"+h[0]+"; stop-opacity:1;"},i,[1,1]),x.dom("stop",null,{offset:"60%",style:"stop-color:"+h[1]+"; stop-opacity:1;"},i,[1,1]),x.dom("stop",null,{offset:"80%",style:"stop-color:"+h[1]+"; stop-opacity:1;"},i,[1,1]),x.dom("stop",null,{offset:"100%",style:"stop-color:"+h[2]+"; stop-opacity:1;"},i,[1,1]),this.c[5].textContent="x"+this.value[0]+" y"+this.value[1],this.c[2].events=["mouseover","mousedown","mouseout"],this.init(),this.update(!1)}function l(t){s.call(this,t),this.autoWidth=!1,this.buttonColor=x.colors.button,this.setTypeNumber(t),this.mPI=.8*Math.PI,this.toDeg=180/Math.PI,this.cirRange=2*this.mPI,this.radius=Math.floor(.5*(this.width-20)),this.w=this.height=2*this.radius,this.h=t.height||this.height+40,this.top=0,this.c[0].style.width=this.width+"px",void 0!==this.c[1]&&(this.c[1].style.width=this.width+"px",this.c[1].style.textAlign="center",this.top=20),this.percent=0,this.c[2]=x.dom("div",x.css.txtnumber+"text-align:center; top:"+(this.height+24)+"px; width:"+this.width+"px; color:"+this.fontColor),this.c[3]=x.dom("circle",x.css.basic+"left:10px; top:"+this.top+"px; width:"+this.w+"px; height:"+this.height+"px;  pointer-events:auto; cursor:pointer;",{cx:this.radius,cy:this.radius,r:this.radius-4,fill:"rgba(0,0,0,0.3)"}),this.c[4]=x.dom("circle",x.css.basic+"left:10px; top:"+this.top+"px; width:"+this.w+"px; height:"+this.height+"px;",{cx:this.radius,cy:.5*this.radius,r:3,fill:this.fontColor}),this.c[5]=x.dom("path",x.css.basic+"left:10px; top:"+this.top+"px; width:"+this.w+"px; height:"+this.height+"px;",{d:this.makeGrad(),"stroke-width":1,stroke:x.colors.stroke}),x.dom("circle",null,{cx:this.radius,cy:this.radius,r:.7*this.radius,fill:this.buttonColor,"stroke-width":1,stroke:x.colors.stroke},this.c[3]),this.c[3].events=["mouseover","mousedown","mouseout"],this.r=0,this.init(),this.update()}function c(t){s.call(this,t),this.autoHeight=!0;var i=t.align||"center";this.buttonColor=t.bColor||x.colors.button;var e=Math.floor(.5*this.h)-5;this.c[2]=x.dom("div",x.css.basic+"top:0; height:90px; cursor:s-resize; pointer-events:auto; display:none; overflow:hidden;"),this.c[3]=x.dom("div",x.css.txt+"text-align:"+i+"; line-height:"+(this.h-4)+"px; top:1px; pointer-events:auto; cursor:pointer; background:"+this.buttonColor+"; height:"+(this.h-2)+"px; border-radius:"+this.radius+"px;"),this.c[4]=x.dom("path",x.css.basic+"position:absolute; width:10px; height:10px; top:"+e+"px;",{d:"M 3 8 L 8 5 3 2 3 8 Z",fill:this.fontColor,stroke:"none"}),this.scroller=x.dom("div",x.css.basic+"right:5px;  width:10px; pointer-events:none; background:#666; display:none;"),this.c[2].name="list",this.c[3].name="title",this.c[3].style.color=this.fontColor,this.c[2].events=["mousedown","mousemove","mouseup","mousewheel","mouseout","mouseover"],this.c[3].events=["mousedown","mouseover","mouseout"],this.list=t.list||[],this.baseH=this.h,this.itemHeight=t.itemHeight||this.h-3,this.full=t.full||!1,this.py=0,this.w=this.sb,this.scroll=!1,this.isDown=!1,this.side=t.side||"down",this.holdTop=0,"up"===this.side?(this.c[2].style.top="auto",this.c[3].style.top="auto",this.c[4].style.top="auto",this.c[2].style.bottom=this.h-2+"px",this.c[3].style.bottom="1px",this.c[4].style.bottom=e+"px"):this.c[2].style.top=this.h-2+"px",this.listIn=x.dom("div",x.css.basic+"left:0; top:0; width:100%; background:rgba(0,0,0,0.2);"),this.listIn.name="list",this.c[2].appendChild(this.listIn),this.c[2].appendChild(this.scroller),this.setList(this.list,t.value),this.init(),void 0!==t.open&&this.open()}function u(t){s.call(this,t),this.type="number",this.setTypeNumber(t),this.allway=t.allway||!1,this.isDrag=void 0===t.drag||t.drag,this.value=[0],this.toRad=1,this.isNumber=!0,this.isAngle=!1,this.isVector=!1,this.isSelect=!1,void 0!==t.value&&(isNaN(t.value)?t.value instanceof Array?(this.value=t.value,this.isNumber=!1):t.value instanceof Object&&(this.value=[],t.value.x&&(this.value[0]=t.value.x),t.value.y&&(this.value[1]=t.value.y),t.value.z&&(this.value[2]=t.value.z),t.value.w&&(this.value[3]=t.value.w),this.isVector=!0):this.value=[t.value]),this.length=this.value.length,t.isAngle&&(this.isAngle=!0,this.toRad=Math.PI/180),this.current=void 0;for(var i=this.length;i--;)this.isAngle&&(this.value[i]=(180*this.value[i]/Math.PI).toFixed(this.precision)),this.c[2+i]=x.dom("div",x.css.txtselect+"letter-spacing:-1px; cursor:pointer; height:"+(this.h-4)+"px; line-height:"+(this.h-8)+"px;"),this.c[2+i].name=i,this.isDrag&&(this.c[2+i].style.cursor="move"),t.center&&(this.c[2+i].style.textAlign="center"),this.c[2+i].textContent=this.value[i],this.c[2+i].style.color=this.fontColor,this.c[2+i].events=["keydown","keyup","mousedown","blur","focus"];this.init()}function d(t){if(s.call(this,t),this.setTypeNumber(t),this.stype=t.stype||0,this.buttonColor=t.bColor||x.colors.button,this.isDown=!1,this.isOver=!1,this.allway=t.allway||!1,this.c[2]=x.dom("div",x.css.txtselect+"letter-spacing:-1px; padding:2px 5px; text-align:right; cursor:pointer; width:47px; border:none; color:"+this.fontColor),this.c[3]=x.dom("div",x.css.basic+"pointer-events:auto; cursor:w-resize; top:0; height:"+this.h+"px;"),this.c[4]=x.dom("div",x.css.basic+"pointer-events:none; background:rgba(0,0,0,0.3); top:2px; height:"+(this.h-4)+"px;"),this.c[5]=x.dom("div",x.css.basic+"left:4px; top:5px; height:"+(this.h-10)+"px; background:"+this.fontColor+";"),this.c[2].name="text",this.c[3].name="scroll",0!==this.stype){if(1===this.stype||3===this.stype)var i=4,e=8,h=this.h-4,o=20;2===this.stype&&(i=2,e=4,o=2,h=.5*(this.h-4)),3===this.stype&&(this.c[5].style.visible="none"),this.c[4].style.borderRadius=i+"px",this.c[4].style.height=e+"px",this.c[4].style.top=.5*this.h-i+"px",this.c[5].style.borderRadius=.5*i+"px",this.c[5].style.height=i+"px",this.c[5].style.top=.5*this.h-.5*i+"px",this.c[6]=x.dom("div",x.css.basic+"border-radius:"+o+"px; margin-left:"+.5*-h+"px; border:1px solid "+x.colors.border+"; background:"+this.buttonColor+"; left:4px; top:2px; height:"+(this.h-4)+"px; width:"+h+"px;")}this.c[3].events=["mouseover","mousedown","mouseout"],this.c[2].events=["keydown","keyup","mousedown","blur","focus"],this.init()}function p(t){s.call(this,t),this.value=t.value||"",this.allway=t.allway||!1,this.c[2]=x.dom("div",x.css.txtselect),this.c[2].name="input",this.c[2].textContent=this.value,this.c[2].events=["mousedown","keydown","keyup","blur","focus"],this.init()}function m(t){s.call(this,t);var i=t.prefix||"";this.c[2]=x.dom("div",x.css.txt+"text-align:right; width:60px; line-height:"+(this.h-8)+"px; color:"+this.fontColor),31===this.h&&(this.s[0].height=this.h+"px",this.s[1].top="8px",this.c[2].style.top="8px"),this.c[1].textContent=this.txt.substring(0,1).toUpperCase()+this.txt.substring(1).replace("-"," "),this.c[2].textContent=i,this.init()}function f(t,s){var f=null;switch(t){case"Bool":case"bool":f=new i(s);break;case"Button":case"button":f=new e(s);break;case"Circular":case"circular":f=new h(s);break;case"Color":case"color":f=new o(s);break;case"Fps":case"fps":f=new n(s);break;case"Group":case"group":f=new r(s);break;case"Joystick":case"joystick":f=new a(s);break;case"Knob":case"knob":f=new l(s);break;case"List":case"list":f=new c(s);break;case"Numeric":case"Number":case"numeric":case"number":f=new u(s);break;case"Slide":case"slide":f=new d(s);break;case"TextInput":case"String":case"textInput":case"string":f=new p(s);break;case"Title":case"title":f=new m(s)}return f}function v(){var t,s,i=arguments,e=!1;"string"==typeof i[0]?(t=i[0],s=i[1]||{}):"object"==typeof i[0]&&(e=!0,void 0===i[2]&&[].push.call(i,{}),t=g.apply(this,i),s=i[2],s.name=i[1],s.value=i[0][i[1]]);var h=f(t,s);if(null!==h)return e&&h.setReferency(i[0],i[1]),h}function g(){var t=arguments,s="Slide";return t[2].type&&(s=t[2].type),s}function b(t){t=t||{},this.css=void 0!==t.css?t.css:"",this.size=x.size,void 0!==t.p&&(this.size.p=t.p),void 0!==t.w&&(this.size.w=t.w),void 0!==t.h&&(this.size.h=t.h),void 0!==t.s&&(this.size.s=t.s),this.size.h=this.size.h<11?11:this.size.h,this.width=this.size.w,this.bh=this.size.h,this.height=0,this.left=0,this.h=0,this.prevY=-1,this.sw=0,this.colors=x.colors,this.bg=t.bg||x.colors.background,this.isWithClose=!0,void 0!==t.close&&(this.isWithClose=t.close,this.bh=this.isWithClose?this.bh:0),x.main=this,this.callback=void 0===t.callback?null:t.callback,this.isCenter=t.center||!1,this.lockwheel=!1,this.onWheel=!1,this.isOpen=!0,this.uis=[],this.content=x.dom("div",x.css.basic+"display:block; width:"+this.width+"px; height:auto; top:0; right:10px; transition:height 0.1s ease-out;"+this.css),void 0!==t.parent?t.parent.appendChild(this.content):document.body.appendChild(this.content),this.innerContent=x.dom("div",x.css.basic+"width:100%; top:0; left:0; height:auto; overflow:hidden;"),this.content.appendChild(this.innerContent),this.inner=x.dom("div",x.css.basic+"width:100%; top:0; left:0; height:auto; background:"+this.bg+";"),this.innerContent.appendChild(this.inner),this.inner.name="inner",this.scrollBG=x.dom("div",x.css.basic+"right:0; top:0; width:"+this.size.s+"px; height:10px; cursor:s-resize; pointer-events:auto; display:none; background:"+this.bg+"; border-left:1px solid "+this.colors.stroke+";"),this.content.appendChild(this.scrollBG),this.scrollBG.name="scroll",this.scroll=x.dom("div",x.css.basic+"background:"+this.colors.scroll+"; right:0px; top:0; width:"+this.size.s+"px; height:10px;"),this.scrollBG.appendChild(this.scroll),this.bottom=x.dom("div",x.css.txt+"width:100%; top:auto; bottom:0; left:0; border-bottom-right-radius:10px;  border-bottom-left-radius:10px; text-align:center; pointer-events:auto; cursor:pointer; height:"+this.bh+"px; line-height:"+(this.bh-5)+"px; border-top:1px solid "+x.colors.stroke+";"),this.content.appendChild(this.bottom),this.bottom.textContent="close",this.bottom.name="bottom",this.bottom.style.background=this.bg,this.isDown=!1,this.isScroll=!1,this.callbackClose=function(){},this.content.addEventListener("mousedown",this,!1),this.content.addEventListener("mousemove",this,!1),this.content.addEventListener("mouseout",this,!1),this.content.addEventListener("mouseup",this,!1),this.content.addEventListener("mouseover",this,!1),this.top=t.top||this.content.getBoundingClientRect().top,document.addEventListener("mousewheel",function(t){this.wheel(t)}.bind(this),!1),window.addEventListener("resize",function(t){this.resize(t)}.bind(this),!1),this.setWidth(this.width)}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),i=1;i<arguments.length;i++){var e=arguments[i];if(void 0!==e&&null!==e)for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(s[h]=e[h])}return s}}();var x={main:null,doc:document,frag:document.createDocumentFragment(),URL:window.URL||window.webkitURL,isLoop:!1,listens:[],svgns:"http://www.w3.org/2000/svg",htmls:"http://www.w3.org/1999/xhtml",DOM_SIZE:["height","width","top","left","bottom","right","margin-left","margin-right","margin-top","margin-bottom"],SVG_TYPE_D:["pattern","defs","transform","stop","animate","radialGradient","linearGradient","animateMotion"],SVG_TYPE_G:["rect","circle","path","polygon","text","g","line","foreignObject"],size:{w:240,h:20,p:30,s:20},colors:{text:"#C0C0C0",background:"rgba(44,44,44,0.3)",border:"#4f4f4f",borderSelect:"#308AFF",button:"#404040",boolbg:"#181818",select:"#308AFF",moving:"#03afff",down:"#024699",stroke:"#606060",scroll:"#333333"},css:{basic:"-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select:none;position:absolute; pointer-events:none; box-sizing:border-box; margin:0; padding:0; border:none; overflow:hidden; background:none;"},GPATH:"M 7 7 L 7 8 8 8 8 7 7 7 M 5 7 L 5 8 6 8 6 7 5 7 M 3 7 L 3 8 4 8 4 7 3 7 M 7 5 L 7 6 8 6 8 5 7 5 M 6 6 L 6 5 5 5 5 6 6 6 M 7 3 L 7 4 8 4 8 3 7 3 M 6 4 L 6 3 5 3 5 4 6 4 M 3 5 L 3 6 4 6 4 5 3 5 M 3 3 L 3 4 4 4 4 3 3 3 Z",setText:function(t,s,i){t=t||11,s=s||"#CCC",i=i||'"Consolas", "Lucida Console", Monaco, monospace',x.colors.text=s,x.css.txt=x.css.basic+"font-family:"+i+"; font-size:"+t+"px; color:"+s+"; padding:2px 10px; left:0; top:2px; height:16px; width:100px; overflow:hidden; white-space: nowrap;",x.css.txtedit=x.css.txt+"pointer-events:auto; padding:2px 5px; outline:none; -webkit-appearance:none; -moz-appearance:none; border:1px dashed #4f4f4f; -ms-user-select:element;",x.css.txtselect=x.css.txt+"pointer-events:auto; padding:2px 5px; outline:none; -webkit-appearance:none; -moz-appearance:none; border:1px dashed "+x.colors.border+"; -ms-user-select:element;",x.css.txtnumber=x.css.txt+"letter-spacing:-1px; padding:2px 5px;",x.css.item=x.css.txt+"position:relative; background:rgba(0,0,0,0.2); margin-bottom:1px; pointer-events:auto; cursor:pointer;"},setSvg:function(t,s,i,e){-1===e?t.setAttributeNS(null,s,i):t.childNodes[e||0].setAttributeNS(null,s,i)},set:function(t,s){for(var i in s)"txt"===i&&(t.textContent=s[i]),t.setAttributeNS(null,i,s[i])},get:function(t,s){if(void 0===s)return t;if(!isNaN(s))return t.childNodes[s];if(s instanceof Array){if(2===s.length)return t.childNodes[s[0]].childNodes[s[1]];if(3===s.length)return t.childNodes[s[0]].childNodes[s[1]].childNodes[s[2]]}},dom:function(t,s,i,e,h){return t=t||"div",-1!==x.SVG_TYPE_D.indexOf(t)||-1!==x.SVG_TYPE_G.indexOf(t)?(void 0===e&&(e=x.doc.createElementNS(x.svgns,"svg")),x.addAttributes(e,t,i,h)):e=void 0===e?x.doc.createElementNS(x.htmls,t):e.appendChild(x.doc.createElementNS(x.htmls,t)),s&&(e.style.cssText=s),void 0===h?e:e.childNodes[h||0]},addAttributes:function(t,s,i,e){var h=x.doc.createElementNS(x.svgns,s);return x.set(h,i),x.get(t,e).appendChild(h),-1!==x.SVG_TYPE_G.indexOf(s)&&(h.style.pointerEvents="none"),h},clear:function(t){for(x.purge(t);t.firstChild;)t.firstChild.firstChild&&x.clear(t.firstChild),t.removeChild(t.firstChild)},purge:function(t){var s,i,e=t.attributes;if(e)for(s=e.length;s--;)i=e[s].name,"function"==typeof t[i]&&(t[i]=null);if(e=t.childNodes)for(s=e.length;s--;)x.purge(t.childNodes[s])},loop:function(){x.isLoop&&requestAnimationFrame(x.loop),x.update()},update:function(){for(var t=x.listens.length;t--;)x.listens[t].listening()},removeListen:function(t){var s=x.listens.indexOf(t);x.listens.splice(s,1),0===x.listens.length&&(x.isLoop=!1)},addListen:function(t){-1===x.listens.indexOf(t)&&(x.listens.push(t),x.isLoop||(x.isLoop=!0,x.loop()))},ColorLuma:function(t,s){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),s=s||0;var i,e,h="#";for(e=0;e<3;e++)i=parseInt(t.substr(2*e,2),16),i=Math.round(Math.min(Math.max(0,i+i*s),255)).toString(16),h+=("00"+i).substr(i.length);return h},findDeepInver:function(t){return.3*t[0]+.59*t[1]+.11*t[2]<=.6},hexToHtml:function(t){return t=void 0===t?0:t,"#"+("000000"+t.toString(16)).substr(-6)},htmlToHex:function(t){return t.toUpperCase().replace("#","0x")},u255:function(t,s){return parseInt(t.substring(s,s+2),16)/255},u16:function(t,s){return parseInt(t.substring(s,s+1),16)/15},unpack:function(t){return 7==t.length?[x.u255(t,1),x.u255(t,3),x.u255(t,5)]:4==t.length?[x.u16(t,1),x.u16(t,2),x.u16(t,3)]:void 0},htmlRgb:function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},rgbToHex:function(t){return"#"+("000000"+(255*t[0]<<16^255*t[1]<<8^255*t[2]<<0).toString(16)).slice(-6)},hueToRgb:function(t,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(s-t)*i:i<.5?s:i<2/3?t+6*(s-t)*(2/3-i):t},rgbToHsl:function(t){var s=t[0],i=t[1],e=t[2],h=Math.min(s,i,e),o=Math.max(s,i,e),n=o-h,r=0,a=0,l=(h+o)/2;return l>0&&l<1&&(a=n/(l<.5?2*l:2-2*l)),n>0&&(o==s&&o!=i&&(r+=(i-e)/n),o==i&&o!=e&&(r+=2+(e-s)/n),o==e&&o!=s&&(r+=4+(s-i)/n),r/=6),[r,a,l]},hslToRgb:function(t){var s,i,e=t[0],h=t[1],o=t[2];return 0===h?[o,o,o]:(i=o<=.5?o*(h+1):o+h-o*h,s=2*o-i,[x.hueToRgb(s,i,e+.33333),x.hueToRgb(s,i,e),x.hueToRgb(s,i,e-.33333)])},toCanvas:function(t,s,i,e){var h=t.getContext("2d"),o=null;"string"==typeof s?(o=x.dom("iframe","position:abolute; left:0; top:0; width:"+i+"px; height:"+e+"px;"),o.src=s):(o=s.cloneNode(!0),o.style.left=0);var n=x.dom("foreignObject","position:abolute; left:0; top:0;",{width:i,height:e});n.childNodes[0].appendChild(o),n.setAttribute("version","1.1"),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("width",i),n.setAttribute("height",e),n.childNodes[0].setAttribute("width","100%"),n.childNodes[0].setAttribute("height","100%");var r=new Image,a="data:image/svg+xml;base64,"+window.btoa((new XMLSerializer).serializeToString(n));o=null,r.onload=function(){h.clearRect(0,0,i,e),h.drawImage(r,0,0,i,e,0,0,i,e)},r.src=a}};x.setText(),s.prototype={constructor:s,init:function(){var t=this.s,s=this.c;t[0].height=this.h+"px",this.autoHeight&&(t[0].transition="height 0.1s ease-out"),void 0!==s[1]&&this.autoWidth&&(t[1]=s[1].style,t[1].height=this.h-4+"px",t[1].lineHeight=this.h-8+"px");for(var i=x.frag,e=1,h=s.length;e!==h;e++)void 0!==s[e]&&(i.appendChild(s[e]),t[e]=s[e].style);null!==this.target?this.target.appendChild(s[0]):this.isUI?this.main.inner.appendChild(s[0]):document.body.appendChild(s[0]),s[0].appendChild(i),this.rSize(),this.addEvent()},rename:function(t){this.c[1].textContent=t},setBG:function(t){this.bg=t,this.s[0].background=t},listen:function(){return x.addListen(this),x.listens.push(this),this},listening:function(){null!==this.parent&&(this.isSend||this.isEdit||this.setValue(this.parent[this.val]))},setValue:function(t){this.isNumber?this.value=this.numValue(t):this.value=t,this.update()},update:function(){},onChange:function(t){return this.callback=t,this},onFinishChange:function(t){return this.callback=null,this.endCallback=t,this},send:function(t){this.isSend=!0,null!==this.parent&&(this.parent[this.val]=t||this.value),this.callback&&this.callback(t||this.value),this.isSend=!1},sendEnd:function(t){this.endCallback&&this.endCallback(t||this.value),null!==this.parent&&(this.parent[this.val]=t||this.value)},clear:function(){this.clearEvent(),x.clear(this.c[0]),null!==this.target?this.target.removeChild(this.c[0]):this.isUI?this.main.clearOne(this):document.body.removeChild(this.c[0]),this.c=null,this.s=null,this.callback=null,this.target=null},setSize:function(t){if(this.autoWidth)if(this.width=t,this.simple)this.sb=this.width-this.sa;else{var s=this.width*(this.p/100);this.sa=10+~~s,this.sb=~~this.width-s-20}},rSize:function(){this.autoWidth&&(this.s[0].width=this.width+"px",this.simple||(this.s[1].width=this.sa+"px"))},setTypeNumber:function(t){this.isNumber=!0,this.value=0,void 0!==t.value&&("string"==typeof t.value?this.value=1*t.value:this.value=t.value),this.min=void 0===t.min?-1/0:t.min,this.max=void 0===t.max?1/0:t.max,this.precision=void 0===t.precision?2:t.precision;var s;switch(this.precision){case 0:s=1;break;case 1:s=.1;break;case 2:s=.01;break;case 3:s=.001;break;case 4:s=1e-4}this.step=void 0===t.step?s:t.step,this.range=this.max-this.min,this.value=this.numValue(this.value)},numValue:function(t){return 1*Math.min(this.max,Math.max(this.min,t)).toFixed(this.precision)},addEvent:function(){for(var t,s,i=this.c.length;i--;)if(void 0!==(s=this.c[i])&&void 0!==s.events)for(t=s.events.length;t--;)s.addEventListener(s.events[t],this,!1)},clearEvent:function(){for(var t,s,i=this.c.length;i--;)if(void 0!==(s=this.c[i])&&void 0!==s.events)for(t=s.events.length;t--;)s.removeEventListener(s.events[t],this,!1)},handleEvent:function(t){},setReferency:function(t,s){this.parent=t,this.val=s},display:function(t){this.s[0].display=t?"block":"none"},open:function(){
this.isOpen||(this.isOpen=!0)},close:function(){this.isOpen&&(this.isOpen=!1)}},i.prototype=Object.assign(Object.create(s.prototype),{constructor:i,handleEvent:function(t){switch(t.preventDefault(),t.type){case"click":this.click(t)}},click:function(t){this.value?this.value=!1:this.value=!0,this.update(),this.send()},update:function(){var t=this.s;this.value?(t[4].marginLeft="18px",t[2].background=this.fontColor,t[2].borderColor=this.fontColor,t[4].borderColor=this.fontColor):(t[4].marginLeft="0px",t[2].background=x.colors.boolbg,t[2].borderColor=x.colors.boolbg,t[4].borderColor=x.colors.border)},rSize:function(){s.prototype.rSize.call(this);var t=this.s;t[2].left=this.sa+"px",t[3].left=this.sa+1+"px",t[4].left=this.sa+1+"px"}}),e.prototype=Object.assign(Object.create(s.prototype),{constructor:e,handleEvent:function(t){switch(t.preventDefault(),t.type){case"click":this.click(t);break;case"mouseover":this.mode(1,t);break;case"mousedown":this.mode(2,t);break;case"mouseup":case"mouseout":this.mode(0,t);break;case"change":this.fileSelect(t.target.files[0]);break;case"dragover":this.dragover();break;case"dragend":case"dragleave":this.dragend();break;case"drop":this.drop(t)}},mode:function(t,s){var i=this.s,e=s.target.name||0;switch("loader"===e&&(e=0),t){case 0:i[e+2].color=this.fontColor,i[e+2].background=this.buttonColor;break;case 1:i[e+2].color="#FFF",i[e+2].background=x.colors.select;break;case 2:i[e+2].color=this.fontColor,i[e+2].background=x.colors.down}},dragover:function(){this.s[4].borderColor=x.colors.select,this.s[4].color=x.colors.select},dragend:function(){this.s[4].borderColor=this.fontColor,this.s[4].color=this.fontColor},drop:function(t){this.dragend(),this.fileSelect(t.dataTransfer.files[0])},initDrager:function(){this.c[4]=x.dom("div",x.css.txt+" text-align:center; line-height:"+(this.h-8)+"px; border:1px dashed "+this.fontColor+"; top:2px; pointer-events:auto; cursor:default; height:"+(this.h-4)+"px; border-radius:"+this.r+"px;"),this.c[4].textContent="DRAG",this.c[2].events=[],this.c[4].events=["dragover","dragend","dragleave","drop"]},initLoader:function(){this.c[3]=x.dom("input",x.css.basic+"border:1px solid "+x.colors.border+"; top:1px; opacity:0; pointer-events:auto; cursor:pointer; height:"+(this.h-2)+"px;"),this.c[3].name="loader",this.c[3].type="file",this.c[2].events=[],this.c[3].events=["change","mouseover","mousedown","mouseup","mouseout"]},fileSelect:function(t){var s=["png","jpg","mp4","webm","ogg"],i=["sea","bvh","BVH","z"];if(void 0!==t){var e=new FileReader,h=t.name,o=h.substring(h.lastIndexOf(".")+1,h.length);-1!==s.indexOf(o)?e.readAsDataURL(t):-1!==i.indexOf(o)?e.readAsArrayBuffer(t):e.readAsText(t),e.onload=function(t){this.callback&&this.callback(t.target.result,h,o)}.bind(this)}},click:function(t){var s=t.target.name||0,i=this.value[s];this.send(i)},label:function(t,s){s=s||2,this.c[s].textContent=t},icon:function(t,s,i){i=i||2,this.s[i].padding=(s||0)+"px 0px",this.c[i].innerHTML=t},rSize:function(){s.prototype.rSize.call(this);for(var t=this.s,i=this.sb,e=this.sa,h=this.lng,o=Math.floor((i-3*(h-1))/h);h--;)t[h+2].width=o+"px",t[h+2].left=e+o*h+3*h+"px";this.isDragButton&&(t[4].left=e+o+3+"px",t[4].width=o+"px"),this.isLoadButton&&(t[3].left=e+"px",t[3].width=o+"px")}}),h.prototype=Object.assign(Object.create(s.prototype),{constructor:h,handleEvent:function(t){switch(t.preventDefault(),t.type){case"mouseover":this.over(t);break;case"mousedown":this.down(t);break;case"mouseout":this.out(t);break;case"mouseup":this.up(t);break;case"mousemove":this.move(t)}},mode:function(t){switch(t){case 0:this.s[2].color=this.fontColor,x.setSvg(this.c[3],"fill","rgba(0,0,0,0.2)"),x.setSvg(this.c[4],"fill",this.fontColor);break;case 1:this.s[2].color=this.colorPlus,x.setSvg(this.c[3],"fill","rgba(0,0,0,0.6)"),x.setSvg(this.c[4],"fill",this.colorPlus)}},over:function(t){this.isOver=!0,this.mode(1)},out:function(t){this.isOver=!1,this.isDown||this.mode(0)},up:function(t){this.isDown=!1,document.removeEventListener("mouseup",this,!1),document.removeEventListener("mousemove",this,!1),this.isOver?this.mode(1):this.mode(0),this.sendEnd()},down:function(t){this.isDown=!0,document.addEventListener("mouseup",this,!1),document.addEventListener("mousemove",this,!1),this.rect=this.c[3].getBoundingClientRect(),this.old=this.value,this.oldr=null,this.move(t)},move:function(t){if(this.isDown){var s=this.radius-(t.clientX-this.rect.left),i=this.radius-(t.clientY-this.rect.top);if(this.r=Math.atan2(i,s)-.5*Math.PI,this.r=(this.r%this.twoPi+this.twoPi)%this.twoPi,null!==this.oldr){var e=this.r-this.oldr;this.r=Math.abs(e)>Math.PI?this.oldr:this.r,e>6&&(this.r=0),e<-6&&(this.r=this.twoPi)}var h=1/this.twoPi,o=this.r*h,n=this.range*o+this.min-this.old;(n>=this.step||n<=this.step)&&(n=~~(n/this.step),this.value=this.numValue(this.old+n*this.step),this.update(!0),this.old=this.value,this.oldr=this.r)}},makePath:function(){var t=this.radius,s=this.percent*this.twoPi-.001,i=t+t*Math.sin(s),e=t-t*Math.cos(s);return"M "+t+","+t+" L "+t+",0 A "+t+","+t+" 0 "+(s>Math.PI?1:0)+" 1 "+i+","+e+" Z"},update:function(t){this.c[2].textContent=this.value,this.percent=(this.value-this.min)/this.range,x.setSvg(this.c[4],"d",this.makePath()),t&&this.send()}}),o.prototype=Object.assign(Object.create(s.prototype),{constructor:o,handleEvent:function(t){switch(t.preventDefault(),t.stopPropagation(),t.type){case"click":this.click(t);break;case"mousedown":this.down(t);break;case"mousemove":this.move(t);break;case"mouseup":this.up(t);break;case"mouseout":this.out(t)}},click:function(t){this.isOpen?this.close():this.open()},up:function(t){this.isDown=!1},out:function(t){this.isOpen&&this.close()},down:function(t){this.isOpen&&(this.isDown=!0,this.move(t))},move:function(t){if(this.isDown){this.offset=this.c[5].getBoundingClientRect();var s={x:t.pageX-this.offset.left-this.mid,y:t.pageY-this.offset.top-this.mid};if(this.circleDrag=Math.max(Math.abs(s.x),Math.abs(s.y))>this.square+2,this.circleDrag){var i=Math.atan2(s.x,-s.y)/6.28;this.setHSL([(i+1)%1,this.hsl[1],this.hsl[2]])}else{var e=Math.max(0,Math.min(1,-s.x/this.square*.5+.5)),h=Math.max(0,Math.min(1,-s.y/this.square*.5+.5));this.setHSL([this.hsl[0],e,h])}}},redraw:function(){this.drawCircle(),this.drawMask(),this.drawMarkers(),this.oldWidth=this.ww,this.isDraw=!0},open:function(){s.prototype.open.call(this),this.oldWidth!==this.ww&&this.redraw(),this.h=this.ww+this.baseH+10,this.s[0].height=this.h+"px","up"===this.side&&(this.holdTop=1*this.s[0].top.substring(0,this.s[0].top.length-2)||"auto",isNaN(this.holdTop)||(this.s[0].top=this.holdTop-(this.h-20)+"px"),setTimeout(function(){this.s[5].pointerEvents="auto"}.bind(this),100)),this.s[3].display="block",this.s[4].display="block",this.s[5].display="block";var t=this.h-this.baseH;null!==this.parentGroup?this.parentGroup.calc(t):this.isUI&&this.main.calc(t),console.log("open")},close:function(){s.prototype.close.call(this);var t=this.h-this.baseH;null!==this.parentGroup?this.parentGroup.calc(-t):this.isUI&&this.main.calc(-t),this.h=this.baseH,"up"===this.side&&(isNaN(this.holdTop)||(this.s[0].top=this.holdTop+"px"),this.s[5].pointerEvents="none"),this.s[0].height=this.h+"px",this.s[3].display="none",this.s[4].display="none",this.s[5].display="none",console.log("close")},update:function(t){this.s[3].background=x.rgbToHex(x.hslToRgb([this.hsl[0],1,.5])),this.drawMarkers(),this.value=this.bcolor,this.s[2].background=this.bcolor,this.c[2].textContent=x.htmlToHex(this.bcolor),this.invert=x.findDeepInver(this.rgb),this.s[2].color=this.invert?"#fff":"#000",t&&("array"===this.ctype&&this.send(this.rgb),"rgb"===this.ctype&&this.send(x.htmlRgb(this.rgb)),"hex"===this.ctype&&this.send(x.htmlToHex(this.value)),"html"===this.ctype&&this.send())},setColor:function(t){var s=x.unpack(t);return this.bcolor!=t&&s&&(this.bcolor=t,this.rgb=s,this.hsl=x.rgbToHsl(this.rgb),this.update()),this},setHSL:function(t){return this.hsl=t,this.rgb=x.hslToRgb(t),this.bcolor=x.rgbToHex(this.rgb),this.update(!0),this},calculateMask:function(t,s,i){for(var e=1/t,h=1/s,o=0;o<=s;++o)for(var n=1-o*h,r=0;r<=t;++r){var a=1-r*e,l=1-2*Math.min(n*a,(1-n)*a),c=l>0?.5*(2*n-1+l)/l:0;i(r,o,c,l)}},drawMask:function(){var t=2*this.square,s=this.square,i=Math.floor(t/2),e=document.createElement("canvas");e.width=e.height=i+1;var h=e.getContext("2d"),o=h.getImageData(0,0,i+1,i+1),n=0;this.calculateMask(i,i,function(t,s,i,e){o.data[n++]=o.data[n++]=o.data[n++]=255*i,o.data[n++]=255*e}),h.putImageData(o,0,0),this.ctxMask.drawImage(e,0,0,i+1,i+1,-s,-s,2*s,2*s)},drawCircle:function(){var t,s,i,e,h,o,n,r,a,l=this.colorRadius,c=this.wheelWidth,u=8/l/24*Math.PI,d=this.ctxMask,p=0;d.save(),d.lineWidth=c/l,d.scale(l,l);for(var m=0;m<=24;++m){if(n=m/24,r=n*Math.PI*2,a=[Math.sin(p),-Math.cos(p),Math.sin(r),-Math.cos(r)],i=.5*(p+r),e=1/Math.cos(.5*(r-p)),h=Math.sin(i)*e,s=-Math.cos(i)*e,o=x.rgbToHex(x.hslToRgb([n,1,.5])),m>0){var f=d.createLinearGradient(a[0],a[1],a[2],a[3]);f.addColorStop(0,t),f.addColorStop(1,o),d.strokeStyle=f,d.beginPath(),d.moveTo(a[0],a[1]),d.quadraticCurveTo(h,s,a[2],a[3]),d.stroke()}p=r-u,t=o,n}d.restore()},drawMarkers:function(){var t=this.markerSize,s=this.colorRadius,i=this.ww,e=Math.ceil(t/4),h=t-e+1,o=this.invert?"#fff":"#000",n=this.invert?"#000":"#fff",r=6.28*this.hsl[0],a=[Math.sin(r)*s,-Math.cos(r)*s,2*this.square*(.5-this.hsl[1]),2*this.square*(.5-this.hsl[2])],l=[{x:a[2],y:a[3],r:t,c:o,lw:e},{x:a[2],y:a[3],r:h,c:n,lw:e+1},{x:a[0],y:a[1],r:t,c:"#fff",lw:e},{x:a[0],y:a[1],r:h,c:"#000",lw:e+1}];this.ctxOverlay.clearRect(-this.mid,-this.mid,i,i);for(var c=l.length;c--;){var u=l[c];this.ctxOverlay.lineWidth=u.lw,this.ctxOverlay.strokeStyle=u.c,this.ctxOverlay.beginPath(),this.ctxOverlay.arc(u.x,u.y,u.r,0,2*Math.PI,!0),this.ctxOverlay.stroke()}},rSize:function(){s.prototype.rSize.call(this),this.ww=this.sb,this.wheelWidth=.1*this.ww,"up"===this.side&&(this.decal=5),this.colorRadius=.5*(this.ww-this.wheelWidth)-1,this.square=Math.floor(.7*(this.colorRadius-.5*this.wheelWidth))-1,this.mid=Math.floor(.5*this.ww),this.markerSize=.3*this.wheelWidth;var t=this.s;t[2].width=this.sb+"px",t[2].left=this.sa+"px",t[3].width=2*this.square-1+"px",t[3].height=2*this.square-1+"px",t[3].top=this.mid+this.decal-this.square+"px",t[3].left=this.mid+this.sa-this.square+"px",this.c[4].width=this.c[4].height=this.ww,t[4].left=this.sa+"px",t[4].top=this.decal+"px",this.c[5].width=this.c[5].height=this.ww,t[5].left=this.sa+"px",t[5].top=this.decal+"px",this.ctxMask.translate(this.mid,this.mid),this.ctxOverlay.translate(this.mid,this.mid),this.isOpen&&this.redraw()}}),n.prototype=Object.assign(Object.create(s.prototype),{constructor:n,handleEvent:function(t){switch(t.preventDefault(),t.type){case"click":this.click(t);break;case"mouseover":this.mode(1);break;case"mousedown":this.mode(2);break;case"mouseout":this.mode(0)}},mode:function(t){var s=this.s;switch(t){case 0:s[1].color=this.fontColor;break;case 1:s[1].color="#FFF";break;case 2:s[1].color=this.fontColor}},click:function(t){this.isShow?this.hide():this.show()},makePath:function(t){var s="";s+="M -1 50";for(var i=0;i<this.res+1;i++)s+=" L "+i+" "+t[i];return s+=" L "+(this.res+1)+" 50"},drawGraph:function(){var t=this.c[2];this.pa1.shift(),this.pa1.push(8.5+this.round(30*(1-this.fps/100))),x.setSvg(t,"d",this.makePath(this.pa1),0),this.pa2.shift(),this.pa2.push(8.5+this.round(30*(1-this.ms/200))),x.setSvg(t,"d",this.makePath(this.pa2),1),this.isMem&&(this.pa3.shift(),this.pa3.push(8.5+this.round(30*(1-this.mm))),x.setSvg(t,"d",this.makePath(this.pa3),2))},show:function(){this.h=this.hplus+this.baseH,x.setSvg(this.c[4],"d","M 5 8 L 8 3 2 3 5 8 Z"),null!==this.parentGroup?this.parentGroup.calc(this.hplus):this.isUI&&this.main.calc(this.hplus),this.s[0].height=this.h+"px",this.s[2].display="block",this.isShow=!0,x.addListen(this)},hide:function(){this.h=this.baseH,x.setSvg(this.c[4],"d","M 3 8 L 8 5 3 2 3 8 Z"),null!==this.parentGroup?this.parentGroup.calc(-this.hplus):this.isUI&&this.main.calc(-this.hplus),this.s[0].height=this.h+"px",this.s[2].display="none",this.isShow=!1,x.removeListen(this),this.c[1].textContent="FPS"},begin:function(){this.startTime=this.now()},end:function(){var t=this.now();if(this.ms=t-this.startTime,this.frames++,t>this.prevTime+1e3&&(this.fps=this.round(1e3*this.frames/(t-this.prevTime)),this.prevTime=t,this.frames=0,this.isMem)){var s=performance.memory.usedJSHeapSize,i=performance.memory.jsHeapSizeLimit;this.mem=this.round(9.54e-7*s),this.mm=s/i}return this.drawGraph(),this.c[1].innerHTML="FPS "+this.fps+'<font color="yellow"> MS '+(0|this.ms)+'</font><font color="cyan"> MB '+this.mem+"</font>",t},listening:function(){this.startTime=this.end()},rSize:function(){this.s[0].width=this.width+"px",this.s[1].width=this.width+"px",this.s[2].left="10px",this.s[2].width=this.width-20+"px"}}),r.prototype=Object.assign(Object.create(s.prototype),{constructor:r,handleEvent:function(t){switch(t.preventDefault(),t.type){case"click":this.click(t)}},click:function(t){this.isOpen?this.close():this.open()},setBG:function(t){this.s[0].background=t;for(var s=this.uis.length;s--;)this.uis[s].setBG(t)},add:function(){var t=arguments;"object"==typeof t[1]?(t[1].isUI=this.isUI,t[1].target=this.c[2],t[1].main=this.main):"string"==typeof arguments[1]&&(void 0===t[2]?[].push.call(t,{isUI:!0,target:this.c[2],main:this.main}):(t[2].isUI=!0,t[2].target=this.c[2],t[2].main=this.main));var s=v.apply(this,t);return this.uis.push(s),s.autoHeight&&(s.parentGroup=this),s},open:function(){s.prototype.open.call(this),x.setSvg(this.c[4],"d","M 5 8 L 8 3 2 3 5 8 Z"),this.rSizeContent(),this.isUI&&this.main.calc(this.h-this.baseH)},close:function(){s.prototype.close.call(this),this.isUI&&this.main.calc(-(this.h-this.baseH)),x.setSvg(this.c[4],"d","M 3 8 L 8 5 3 2 3 8 Z"),this.h=this.baseH,this.s[0].height=this.h+"px"},clear:function(){this.clearGroup(),this.isUI&&this.main.calc(-(this.h+1)),s.prototype.clear.call(this)},clearGroup:function(){this.close();for(var t=this.uis.length;t--;)this.uis[t].clear(),this.uis.pop();this.uis=[],this.h=this.baseH},calc:function(t){this.isOpen&&(void 0!==t?(this.h+=t,this.isUI&&this.main.calc(t)):this.h=this.c[2].offsetHeight+this.baseH,this.s[0].height=this.h+"px")},rSizeContent:function(){for(var t=this.uis.length;t--;)this.uis[t].setSize(this.width),this.uis[t].rSize();this.calc()},rSize:function(){s.prototype.rSize.call(this);var t=this.s;t[3].left=this.sa+this.sb-17+"px",t[1].width=this.width+"px",t[2].width=this.width+"px",this.isOpen&&this.rSizeContent()}}),a.prototype=Object.assign(Object.create(s.prototype),{constructor:a,handleEvent:function(t){switch(t.preventDefault(),t.type){case"mouseover":this.over(t);break;case"mousedown":this.down(t);break;case"mouseout":this.out(t);break;case"mouseup":this.up(t);break;case"mousemove":this.move(t)}},mode:function(t){switch(t){case 0:x.setSvg(this.c[4],"fill","url(#gradIn)"),x.setSvg(this.c[4],"stroke","#000");break;case 1:x.setSvg(this.c[4],"fill","url(#gradIn2)"),x.setSvg(this.c[4],"stroke","rgba(0,0,0,0)")}},over:function(t){this.isOver=!0,this.mode(1)},out:function(t){this.isOver=!1,this.isDown||this.mode(0)},up:function(t){this.isDown=!1,document.removeEventListener("mouseup",this,!1),document.removeEventListener("mousemove",this,!1),this.interval=setInterval(this.update.bind(this),10),this.isOver?this.mode(1):this.mode(0)},down:function(t){this.isDown=!0,document.addEventListener("mouseup",this,!1),document.addEventListener("mousemove",this,!1),this.rect=this.c[2].getBoundingClientRect(),this.move(t),this.mode(2)},move:function(t){if(this.isDown){var s=this.radius-(t.clientX-this.rect.left),i=this.radius-(t.clientY-this.rect.top);if(Math.sqrt(s*s+i*i)>this.maxDistance){var e=Math.atan2(s,i);s=Math.sin(e)*this.maxDistance,i=Math.cos(e)*this.maxDistance}this.x=s/this.maxDistance,this.y=i/this.maxDistance,this.update()}},setValue:function(t,s){this.x=t||0,this.y=s||0,this.updateSVG()},update:function(t){void 0===t&&(t=!0),null!==this.interval&&(this.isDown||(this.x+=(0-this.x)/3,this.y+=(0-this.y)/3),this.x.toFixed(2)===this.oldx.toFixed(2)&&this.y.toFixed(2)===this.oldy.toFixed(2)&&(this.x=0,this.y=0)),this.updateSVG(),t&&this.send(),null!==this.interval&&0===this.x&&0===this.y&&(clearInterval(this.interval),this.interval=null)},updateSVG:function(){var t=this.x*this.maxDistance,s=this.y*this.maxDistance,i=this.radius-t,e=this.radius-s,h=i+5*(1-this.x)+5,o=e+5*(1-this.y)+10;x.setSvg(this.c[3],"cx",h),x.setSvg(this.c[3],"cy",o),x.setSvg(this.c[4],"cx",i),x.setSvg(this.c[4],"cy",e),this.oldx=this.x,this.oldy=this.y,this.value[0]=1*-(this.x*this.multiplicator).toFixed(this.precision),this.value[1]=1*(this.y*this.multiplicator).toFixed(this.precision),this.c[5].textContent="x"+this.value[0]+" y"+this.value[1]}}),l.prototype=Object.assign(Object.create(h.prototype),{constructor:l,move:function(t){if(this.isDown){var s=this.radius-(t.clientX-this.rect.left),i=this.radius-(t.clientY-this.rect.top);this.r=-Math.atan2(s,i),null!==this.oldr&&(this.r=Math.abs(this.r-this.oldr)>Math.PI?this.oldr:this.r),this.r=this.r>this.mPI?this.mPI:this.r,this.r=this.r<-this.mPI?-this.mPI:this.r;var e=1/this.cirRange,h=(this.r+this.mPI)*e,o=this.range*h+this.min-this.old;(o>=this.step||o<=this.step)&&(o=~~(o/this.step),this.value=this.numValue(this.old+o*this.step),this.update(!0),this.old=this.value,this.oldr=this.r)}},makeGrad:function(){var t,s,i,e,h,o,n,r="",a=this.radius,l=Math.PI+this.mPI,c=Math.PI-this.mPI;this.step>5?(s=this.range/this.step,t=(l-c)/s):(t=(l-c)/a,s=a);for(var u=0;u<=s;++u)i=l-t*u,e=a+Math.sin(i)*a,h=a+Math.cos(i)*a,o=a+Math.sin(i)*(a-3),n=a+Math.cos(i)*(a-3),r+="M"+e+" "+h+" L"+o+" "+n+" ";return r},update:function(t){this.c[2].textContent=this.value,this.percent=(this.value-this.min)/this.range;var s=(this.percent*this.cirRange-this.mPI)*this.toDeg;x.setSvg(this.c[4],"transform","rotate("+s+" "+this.radius+" "+this.radius+")"),t&&this.send()}}),c.prototype=Object.assign(Object.create(s.prototype),{constructor:c,handleEvent:function(t){t.preventDefault();var s=t.target.name||"";switch(t.type){case"click":this.click(t);break;case"mouseover":"title"===s?this.mode(1):this.listover(t);break;case"mousedown":"title"===s?this.titleClick(t):this.listdown(t);break;case"mouseup":"title"===s?this.mode(0):this.listup(t);break;case"mouseout":"title"===s?this.mode(0):this.listout(t);break;case"mousemove":this.listmove(t);break;case"mousewheel":this.listwheel(t)}},mode:function(t){var s=this.s;switch(t){case 0:s[3].color=this.fontColor,s[3].background=this.buttonColor;break;case 1:s[3].color="#FFF",s[3].background=x.colors.select;break;case 2:s[3].color=this.fontColor,s[3].background=x.colors.down}},clearList:function(){for(;this.listIn.children.length;)this.listIn.removeChild(this.listIn.lastChild)},setList:function(t,s){this.clearList(),this.list=t,this.length=this.list.length,this.maxItem=this.full?this.length:5,this.maxItem=this.length<this.maxItem?this.length:this.maxItem,this.maxHeight=this.maxItem*(this.itemHeight+1)+2,this.max=this.length*(this.itemHeight+1)+2,this.ratio=this.maxHeight/this.max,this.sh=this.maxHeight*this.ratio,this.range=this.maxHeight-this.sh,this.c[2].style.height=this.maxHeight+"px",this.scroller.style.height=this.sh+"px",this.max>this.maxHeight&&(this.w=this.sb-20,this.scroll=!0);for(var i,e,h=0;h<this.length;h++)e=this.list[h],i=x.dom("div",x.css.item+"width:"+this.w+"px; height:"+this.itemHeight+"px; line-height:"+(this.itemHeight-5)+"px;"),i.textContent=e,i.style.color=this.fontColor,i.name="item",this.listIn.appendChild(i);void 0!==s?isNaN(s)?this.value=s:this.value=this.list[s]:this.value=this.list[0],this.c[3].textContent=this.value},click:function(t){var s=t.target.name;"title"!==s&&"list"!==s&&this.close()},titleClick:function(t){this.isOpen?this.close():(this.open(),this.mode(2))},listover:function(t){"item"===t.target.name&&(t.target.style.background=x.colors.select,t.target.style.color="#FFF")},listdown:function(t){var s=t.target.name;"list"!==s&&void 0!==s?(this.value=t.target.textContent,this.c[3].textContent=this.value,this.send()):"list"===s&&this.scroll&&(this.isDown=!0,this.listmove(t),this.listIn.style.background="rgba(0,0,0,0.6)",this.scroller.style.background="#AAA")},listmove:function(t){if(this.isDown){var s=this.c[2].getBoundingClientRect();this.update(t.clientY-s.top-.5*this.sh)}},listup:function(t){this.isDown=!1,this.listIn.style.background="rgba(0,0,0,0.2)",this.scroller.style.background="#666"},listout:function(t){"item"===t.target.name&&(t.target.style.background="rgba(0,0,0,0.2)",t.target.style.color=this.fontColor),this.isUI&&(this.main.lockwheel=!1),this.listup()},listwheel:function(t){if(this.scroll){this.isUI&&(this.main.lockwheel=!0);var s=0;t.wheelDeltaY?s=.04*-t.wheelDeltaY:t.wheelDelta?s=.2*-t.wheelDelta:t.detail&&(s=4*t.detail),this.py+=s,this.update(this.py)}},update:function(t){this.scroll&&(t=t<0?0:t,t=t>this.range?this.range:t,this.listIn.style.top=-Math.floor(t/this.ratio)+"px",this.scroller.style.top=Math.floor(t)+"px",this.py=t)},open:function(){s.prototype.open.call(this),document.addEventListener("click",this,!1),this.update(0),this.h=this.maxHeight+this.baseH+10,this.scroll?this.scroller.style.display="block":(this.h=this.baseH+10+this.max,this.scroller.style.display="none"),this.s[0].height=this.h+"px",this.s[2].display="block","up"===this.side?x.setSvg(this.c[4],"d","M 5 2 L 2 7 8 7 5 2 Z"):x.setSvg(this.c[4],"d","M 5 8 L 8 3 2 3 5 8 Z"),this.rSizeContent(),null!==this.parentGroup?this.parentGroup.calc(this.h-this.baseH):this.isUI&&this.main.calc(this.h-this.baseH)},close:function(){s.prototype.close.call(this),document.removeEventListener("click",this,!1),null!==this.parentGroup?this.parentGroup.calc(-(this.h-this.baseH)):this.isUI&&this.main.calc(-(this.h-this.baseH)),this.h=this.baseH,this.s[0].height=this.h+"px",this.s[2].display="none",x.setSvg(this.c[4],"d","M 3 8 L 8 5 3 2 3 8 Z")},text:function(t){this.c[3].textContent=t},rSizeContent:function(){for(var t=this.length;t--;)this.listIn.children[t].style.width=this.w+"px"},rSize:function(){s.prototype.rSize.call(this);var t=this.s,i=this.sb,e=this.sa;t[2].width=i+"px",t[2].left=e+"px",t[3].width=i+"px",t[3].left=e+"px",t[4].left=e+i-17+"px",this.w=i,this.max>this.maxHeight&&(this.w=i-20),this.isOpen&&this.rSizeContent()}}),u.prototype=Object.assign(Object.create(s.prototype),{constructor:u,handleEvent:function(t){switch(t.type){case"mousedown":this.down(t);break;case"keydown":this.keydown(t);break;case"keyup":this.keyup(t);break;case"blur":this.blur(t);break;case"focus":this.focus(t);break;case"mouseup":this.up(t);break;case"mousemove":this.move(t)}},setValue:function(t,s){s=s||0,this.value[s]=this.numValue(t),this.c[2+s].textContent=this.value[s]},keydown:function(t){t.stopPropagation(),13===t.keyCode&&(t.preventDefault(),this.testValue(parseFloat(t.target.name)),this.validate(),t.target.blur())},keyup:function(t){t.stopPropagation(),this.allway&&(this.testValue(parseFloat(t.target.name)),this.validate())},blur:function(t){this.isSelect=!1,t.target.style.borderColor=x.colors.border,t.target.contentEditable=!1,this.isDrag?t.target.style.cursor="move":t.target.style.cursor="pointer"},focus:function(t){this.isSelect=!0,this.current=void 0,t.target.style.borderColor=x.colors.borderSelect,this.isDrag&&(t.target.style.cursor="auto")},down:function(t){this.isSelect||(t.preventDefault(),this.current=parseFloat(t.target.name),this.prev={x:t.clientX,y:t.clientY,d:0,id:this.current+2},this.isNumber?this.prev.v=parseFloat(this.value):this.prev.v=parseFloat(this.value[this.current]),document.addEventListener("mouseup",this,!1),this.isDrag&&document.addEventListener("mousemove",this,!1))},up:function(t){t.preventDefault(),document.removeEventListener("mouseup",this,!1),this.isDrag&&document.removeEventListener("mousemove",this,!1),void 0!==this.current&&this.current===parseFloat(t.target.name)&&(t.target.contentEditable=!0,t.target.focus())},move:function(t){if(t.preventDefault(),void 0!==this.current){this.prev.d+=t.clientX-this.prev.x-(t.clientY-this.prev.y);var s=this.prev.v+this.prev.d*this.step;this.value[this.current]=this.numValue(s),this.c[2+this.current].textContent=this.value[this.current],this.validate(),this.prev.x=t.clientX,this.prev.y=t.clientY}},testValue:function(t){if(isNaN(this.c[2+t].textContent))this.c[2+t].textContent=this.value[t];else{var s=this.numValue(this.c[2+t].textContent);this.c[2+t].textContent=s,this.value[t]=s}},validate:function(){for(var t=[],s=this.length;s--;)t[s]=this.value[s]*this.toRad;this.isNumber?this.send(t[0]):this.send(t)},rSize:function(){s.prototype.rSize.call(this),this.w=~~((this.sb+5)/this.length)-5;for(var t=this.s,i=this.length;i--;)t[2+i].left=~~(this.sa+this.w*i+5*i)+"px",t[2+i].width=this.w+"px"}}),d.prototype=Object.assign(Object.create(s.prototype),{constructor:d,handleEvent:function(t){switch(t.type){case"mouseover":this.over(t);break;case"mousedown":"text"===t.target.name?this.textdown(t):this.down(t);break;case"mouseout":this.out(t);break;case"mouseup":this.up(t);break;case"mousemove":this.isDown&&this.move(t);break;case"blur":this.blur(t);break;case"focus":this.focus(t);break;case"keydown":this.keydown(t);break;case"keyup":this.keyup(t)}},mode:function(t){var s=this.s;switch(t){case 0:s[2].color=this.fontColor,s[4].background="rgba(0,0,0,0.3)",s[5].background=this.fontColor;break;case 1:s[2].color=this.colorPlus,s[4].background="rgba(0,0,0,0.6)",s[5].background=this.colorPlus}},over:function(t){t.preventDefault(),t.stopPropagation(),this.isOver=!0,this.mode(1)},out:function(t){t.preventDefault(),t.stopPropagation(),this.isOver=!1,this.isDown||this.mode(0)},up:function(t){t.preventDefault(),t.stopPropagation(),this.isDown=!1,document.removeEventListener("mouseup",this,!1),document.removeEventListener("mousemove",this,!1),this.isOver?this.mode(1):this.mode(0),this.sendEnd()},down:function(t){t.preventDefault(),t.stopPropagation(),this.isDown=!0,document.addEventListener("mouseup",this,!1),document.addEventListener("mousemove",this,!1),this.left=this.c[3].getBoundingClientRect().left,this.old=this.value,this.move(t)},move:function(t){var s=(t.clientX-this.left-3)/this.w*this.range+this.min-this.old;(s>=this.step||s<=this.step)&&(s=~~(s/this.step),this.value=this.numValue(this.old+s*this.step),this.update(!0),this.old=this.value)},update:function(t){var s=this.w*((this.value-this.min)/this.range);3!==this.stype&&(this.s[5].width=~~s+"px"),this.s[6]&&(this.s[6].left=~~(this.sa+s+3)+"px"),this.c[2].textContent=this.value,t&&this.send()},rSize:function(){s.prototype.rSize.call(this);var t=this.sb-this.sc;this.w=t-6;var i=this.sc;!this.isUI&&this.simple||(i=this.sc+10);var e=~~(.5*this.h)-8,h=this.s;h[2].width=this.sc-2+"px",h[2].left=this.width-i+2+"px",h[2].top=e+"px",h[3].left=this.sa+"px",h[3].width=t+"px",h[4].left=this.sa+"px",h[4].width=t+"px",h[5].left=this.sa+3+"px",this.update()},validate:function(t){isNaN(this.c[2].textContent)?this.c[2].textContent=this.value:(this.value=this.numValue(this.c[2].textContent),this.update(!0))},textdown:function(t){t.target.contentEditable=!0,t.target.focus(),this.isEdit=!0},keydown:function(t){t.stopPropagation(),13===t.keyCode&&(t.preventDefault(),this.validate(),t.target.blur())},keyup:function(t){t.stopPropagation(),this.allway&&this.validate()},blur:function(t){t.target.style.border="none",t.target.contentEditable=!1,this.isEdit=!1},focus:function(t){t.target.style.border="1px dashed "+x.colors.borderSelect}}),p.prototype=Object.assign(Object.create(s.prototype),{constructor:p,handleEvent:function(t){switch(t.type){case"mousedown":this.down(t);break;case"blur":this.blur(t);break;case"focus":this.focus(t);break;case"keydown":this.keydown(t);break;case"keyup":this.keyup(t)}},down:function(t){t.target.contentEditable=!0,t.target.focus(),t.target.style.cursor="auto"},blur:function(t){t.target.style.borderColor=x.colors.border,t.target.contentEditable=!1},focus:function(t){t.target.style.borderColor=x.colors.borderSelect},keydown:function(t){t.stopPropagation(),13===t.keyCode&&(t.preventDefault(),this.value=t.target.textContent,t.target.blur(),this.send())},keyup:function(t){t.stopPropagation(),this.value=t.target.textContent,this.allway&&this.send()},rSize:function(){s.prototype.rSize.call(this),this.s[2].color=this.fontColor,this.s[2].left=this.sa+"px",this.s[2].width=this.sb+"px",this.s[2].height=this.h-4+"px",this.s[2].lineHeight=this.h-8+"px"}}),m.prototype=Object.assign(Object.create(s.prototype),{constructor:m,text:function(t){this.c[1].textContent=t},text2:function(t){this.c[2].textContent=t},rSize:function(){s.prototype.rSize.call(this),this.s[1].width=this.width-50+"px",this.s[2].left=this.width-76+"px"}});b.prototype={constructor:b,setText:function(t,s,i){x.setText(t,s,i)},hide:function(t){this.content.style.display=t?"none":"block"},setBG:function(t){this.bg=t,this.innerstyle.background=this.bg,this.bottom.style.background=this.bg},getHTML:function(){return this.content},onChange:function(t){return this.callback=t,this},handleEvent:function(t){switch(t.type){case"mousedown":this.down(t);break;case"mouseout":this.out(t);break;case"mouseover":this.over(t);break;case"mouseup":this.up(t);break;case"mousemove":this.move(t)}},down:function(t){t.target.name&&("scroll"===t.target.name&&(this.isDown=!0,this.move(t),document.addEventListener("mouseup",this,!1),document.addEventListener("mousemove",this,!1)),"bottom"===t.target.name&&(this.isOpen=!this.isOpen,this.bottom.textContent=this.isOpen?"close":"open",this.testHeight()))},move:function(t){this.isDown&&(this.scroll.style.background=this.colors.down,this.update(t.clientY-this.top-.5*this.sh))},out:function(t){t.target.name&&("scroll"===t.target.name&&(this.scroll.style.background=this.colors.scroll),"bottom"===t.target.name&&(this.bottom.style.color="#CCC"))},up:function(t){this.isDown=!1,this.scroll.style.background=this.colors.scroll,document.removeEventListener("mouseup",this,!1),document.removeEventListener("mousemove",this,!1)},over:function(t){t.target.name&&("scroll"===t.target.name&&(this.scroll.style.background=this.colors.select),"bottom"===t.target.name&&(this.bottom.style.color="#FFF"))},wheel:function(t){if(!this.lockwheel&&this.isScroll){var s=t.clientX,i=this.content.getBoundingClientRect().left;if(!(s<i||s>i+this.width)){var e=0;t.wheelDeltaY?e=.04*-t.wheelDeltaY:t.wheelDelta?e=.2*-t.wheelDelta:t.detail&&(e=4*t.detail),this.py+=e,this.update(this.py)}}},add:function(){var t=arguments;"object"==typeof t[1]?(t[1].isUI=!0,t[1].main=this):"string"==typeof t[1]&&(void 0===t[2]?[].push.call(t,{isUI:!0,main:this}):(t[2].isUI=!0,t[2].main=this));var s=v.apply(this,t);if(this.uis.push(s),s.py=this.h,s.autoWidth)this.prevY=-1,this.calc(s.h+1);else{var i=s.c[0].getBoundingClientRect().top;this.prevY!==i&&(this.calc(s.h+1),this.prevY=i)}return s},remove:function(t){var s=this.uis.indexOf(t);-1!==s&&this.uis[s].clear()},clearOne:function(t){var s=this.uis.indexOf(t);-1!==s&&(this.inner.removeChild(this.uis[s].c[0]),this.uis.splice(s,1))},clear:function(){for(var t=this.uis.length;t--;)this.uis[t].clear();this.uis=[],x.listens=[],this.calc(-this.h)},update:function(t){t=t<0?0:t,t=t>this.range?this.range:t,this.inner.style.top=-Math.floor(t/this.ratio)+"px",this.scroll.style.top=Math.floor(t)+"px",this.py=t},showScroll:function(t){this.isScroll=!0,this.sw=this.size.s,this.total=this.h,this.maxView=this.maxHeight,this.ratio=this.maxView/this.total,this.sh=this.maxView*this.ratio,this.sh<20&&(this.sh=20),this.range=this.maxView-this.sh,this.scrollBG.style.display="block",this.scrollBG.style.height=this.maxView+"px",this.scroll.style.height=this.sh+"px",this.setItemWidth(this.width-this.sw),this.update(0)},hideScroll:function(){this.isScroll=!1,this.sw=0,this.setItemWidth(this.width-this.sw),this.update(0),this.scrollBG.style.display="none"},resize:function(t){this.testHeight()},calc:function(t){this.h+=t,clearTimeout(this.tmp),
this.tmp=setTimeout(this.testHeight.bind(this),10)},testHeight:function(){this.tmp&&clearTimeout(this.tmp),this.height=this.top+this.bh,this.isOpen?(this.maxHeight=window.innerHeight-this.top-this.bh,this.h>this.maxHeight?(this.height=this.maxHeight+this.bh,this.showScroll()):(this.height=this.h+this.bh,this.hideScroll())):(this.height=this.bh,this.hideScroll()),this.innerContent.style.height=this.height-this.bh+"px",this.content.style.height=this.height+"px",this.bottom.style.top=this.height-this.bh+"px"},setWidth:function(t){t&&(this.width=t),this.content.style.width=this.width+"px",this.isCenter&&(this.content.style.marginLeft=-~~(.5*this.width)+"px"),this.setItemWidth(this.width-this.sw),this.resize()},setItemWidth:function(t){for(var s=this.uis.length;s--;)this.uis[s].setSize(t),this.uis[s].rSize()}},t.Tools=x,t.Gui=b,t.Proto=s,t.Bool=i,t.Button=e,t.Circular=h,t.Color=o,t.Fps=n,t.Group=r,t.Joystick=a,t.Knob=l,t.List=c,t.Numeric=u,t.Slide=d,t.TextInput=p,t.Title=m,t.add=v,t.REVISION="1.0",Object.defineProperty(t,"__esModule",{value:!0})});
>>>>>>> origin/gh-pages
